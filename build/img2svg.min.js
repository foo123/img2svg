/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-01 09:31:47
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var V=Math,T="undefined"!=typeof Uint8Array?Uint8Array:Array;"undefined"==typeof Float32Array&&Array;function r(r,t){var n,e,a,o,i,y,x,u,f,c,l,s,p,h,d,w,v,g,m,A,b,O,F,R,C=B(null==(t=t||{}).depth?2:t.depth,1,256),S=B(null==t.depthR?C:t.depthR,1,256),U=B(null==t.depthG?C:t.depthG,1,256),z=B(null==t.depthB?C:t.depthB,1,256),E=r.width,X=r.height,k=r.data,q=E*X,Y=k.length,j="";if(256===C){for(n={},b=A=0;A<Y;A+=4,++b)0<k[A+3]&&(w=k[A],v=k[A+1],g=k[A+2],m=k[A+3],n[e=String(w)+","+String(v)+","+String(g)+","+String(m)]?n[e].push(b):n[e]=[b]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&0<(a=n[e]).length){for(R=new T(q),A=0,O=a.length;A<O;++A)R[a[A]]=255;t.color="rgb("+e.split(",").slice(0,3).join(",")+")",t.opacity=String((+e.split(",").pop()/255).toFixed(2)),t.partial=!0,j+=N.process(R,E,X,t),R=null}n=null}else if(t.grayscale)for(u=V.floor(256/U),l=V.floor(u/2),h=i=0;i<U;++i,h+=u){for(R=new T(q),b=A=F=0;A<Y;A+=4,++b)0<k[A+3]&&h<=(v=k[A+1])&&v<h+u?(++F,R[b]=255):R[b]=0;0<F&&(t.color=I(h+l,h+l,h+l),t.partial=!0,j+=N.process(R,E,X,t)),R=null}else for(x=V.floor(256/S),u=V.floor(256/U),f=V.floor(256/z),c=V.floor(x/2),l=V.floor(u/2),s=V.floor(f/2),p=o=0;o<z;++o,p+=f)for(h=i=0;i<U;++i,h+=u)for(d=y=0;y<S;++y,d+=x){for(R=new T(q),b=A=F=0;A<Y;A+=4,++b)0<k[A+3]&&(w=k[A],v=k[A+1],g=k[A+2],d<=w)&&w<d+x&&h<=v&&v<h+u&&p<=g&&g<p+f?(++F,R[b]=255):R[b]=0;0<F&&(t.color=I(d+c,h+l,p+s),t.partial=!0,j+=N.process(R,E,X,t)),R=null}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+E+'" height="'+X+'" viewBox="0 0 '+E+" "+X+'">'+j+"</svg>"}function B(r,t,n){return V.min(V.max(r,t),n)}function I(r,t,n){r=B(V.round(r),0,255).toString(16),t=B(V.round(t),0,255).toString(16),n=B(V.round(n),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}r.VERSION="1.0.0";t={VERSION:"1.16"},e="prototype",S=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,m={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2},t.defaultOptions=function(){return A({},m)},t.process=function(r,t,n,e){A(e,m);for(var r=function(r,t){var n,e=r.copy(),a=new U(0,0),o=[];for(;a=function(r,t){var n=r.toIndex(t);for(;n<r.size&&0===r.data[n];)++n;return n<r.size&&r.index(n)}(e,a);)n=function(r,t,n,e){var a,o,i,y,x=new O,u=n.x,f=n.y,c=0,l=1;x.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(x.pt.push(new U(u,f)),u>x.maxX&&(x.maxX=u),u<x.minX&&(x.minX=u),f>x.maxY&&(x.maxY=f),f<x.minY&&(x.minY=f),++x.len,u+=c,f+=l,x.area-=u*l,u===n.x&&f===n.y)break;o=t.at(u+(c-l-1)/2,f+(l+c-1)/2),i=t.at(u+(c+l-1)/2,f+(l-c-1)/2),o&&!i?(y="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,t,n){var e,a,o;for(e=2;e<5;++e){for(o=0,a=1-e;a<=e-1;++a)o=(o=(o=(o+=r.at(t+a,n+e-1)?1:-1)+(r.at(t+e-1,n+a-1)?1:-1))+(r.at(t+a-1,n-e)?1:-1))+(r.at(t-e,n+a)?1:-1);if(0<o)return 1;if(o<0)return 0}return 0}(t,u,f):0,l="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===x.sign||"white"===e.turnpolicy&&"-"===x.sign||"majority"===e.turnpolicy&&y||"minority"===e.turnpolicy&&!y?(a=c,c=-l,a):(a=c,c=l,-a)):o?(a=c,c=-l,l=a):i||(a=c,c=l,l=-a)}return x}(r,e,a,t),function(r,t){var n,e,a,o,i,y,x=t.pt[0].y,u=t.len;for(y=1;y<u;++y)if(n=t.pt[y].x,(e=t.pt[y].y)!==x){for(o=x<e?x:e,a=t.maxX,i=n;i<a;++i)r.flip(i,o);x=e}}(e,n),n.area>t.turdsize&&o.push(n);return e=null,o}(new b(t,n,r),e),a=r,o=e,i=0,y=a.length;i<y;++i){var x=a[i];!function(r){r.x0=r.pt[0].x,r.y0=r.pt[0].y,r.sums=[];var t,n,e,a=r.sums;for(a.push(new F(0,0,0,0,0)),t=0;t<r.len;++t)n=r.pt[t].x-r.x0,e=r.pt[t].y-r.y0,a.push(new F(a[t].x+n,a[t].y+e,a[t].xy+n*e,a[t].x2+n*n,a[t].y2+e*e))}(x),!function(r){var t,n,e,a,o,i,y,x,u,f=r.len,c=r.pt,l=new Array(f),s=new Array(f),p=new Array(4),h=[new U,new U],d=new U,w=new U,v=new U,g=0;for(r.lon=new Array(f),e=f-1;0<=e;--e)c[e].x!=c[g].x&&c[e].y!=c[g].y&&(g=e+1),s[e]=g;for(e=f-1;0<=e;--e){for(p[0]=p[1]=p[2]=p[3]=0,t=(3+3*(c[X(e+1,f)].x-c[e].x)+(c[X(e+1,f)].y-c[e].y))/2,++p[t],h[0].x=0,h[0].y=0,h[1].x=0,h[1].y=0,g=s[e],o=e;;){if(n=0,t=(3+3*q(c[g].x-c[o].x)+q(c[g].y-c[o].y))/2,++p[t],p[0]&&p[1]&&p[2]&&p[3]){l[e]=o,n=1;break}if(d.x=c[g].x-c[e].x,d.y=c[g].y-c[e].y,C(h[0],d)<0||0<C(h[1],d))break;if(S.abs(d.x)<=1&&S.abs(d.y)<=1||(w.x=d.x+(0<=d.y&&(0<d.y||d.x<0)?1:-1),w.y=d.y+(d.x<=0&&(d.x<0||d.y<0)?1:-1),0<=C(h[0],w)&&(h[0].x=w.x,h[0].y=w.y),w.x=d.x+(d.y<=0&&(d.y<0||d.x<0)?1:-1),w.y=d.y+(0<=d.x&&(0<d.x||d.y<0)?1:-1),C(h[1],w)<=0&&(h[1].x=w.x,h[1].y=w.y)),!k(g=s[o=g],e,o))break}0===n&&(v.x=q(c[g].x-c[o].x),v.y=q(c[g].y-c[o].y),d.x=c[o].x-c[e].x,d.y=c[o].y-c[e].y,i=C(h[0],d),y=C(h[0],v),x=C(h[1],d),u=C(h[1],v),a=1e7,y<0&&(a=S.floor(i/-y)),0<u&&(a=S.min(a,S.floor(-x/u))),l[e]=X(o+a,f))}for(a=l[f-1],r.lon[f-1]=a,e=f-2;0<=e;--e)k(e+1,l[e],a)&&(a=l[e]),r.lon[e]=a;for(e=f-1;k(X(e+1,f),a,r.lon[e]);--e)r.lon[e]=a}(x),!function(r){var t,n,e,a,o,i,y,x=r.len,u=new Array(x+1),f=new Array(x+1),c=new Array(x),l=new Array(x+1),s=new Array(x+1),p=new Array(x+1);for(t=0;t<x;++t)(y=X(r.lon[X(t-1,x)]-1,x))==t&&(y=X(t+1,x)),c[t]=y<t?x:y;for(n=1,t=0;t<x;++t)for(;n<=c[t];)l[n]=t,n++;for(n=t=0;t<x;++n)s[n]=t,t=c[t];for(s[n]=x,t=x,n=e=n;0<n;--n)p[n]=t,t=l[t];for(p[0]=0,u[0]=0,n=1;n<=e;++n)for(t=p[n];t<=s[n];++t){for(i=-1,a=s[n-1];a>=l[t];--a)o=function(r,t,n){var e,a,o,i,y,x,u=r.len,f=r.pt,r=r.sums,c=0;u<=n&&(n-=u,c=1);c=0===c?(e=r[n+1].x-r[t].x,a=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,o=r[n+1].xy-r[t].xy,y=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[u].x,a=r[n+1].y-r[t].y+r[u].y,i=r[n+1].x2-r[t].x2+r[u].x2,o=r[n+1].xy-r[t].xy+r[u].xy,y=r[n+1].y2-r[t].y2+r[u].y2,n+1-t+u);return r=(f[t].x+f[n].x)/2-f[0].x,u=(f[t].y+f[n].y)/2-f[0].y,x=f[n].x-f[t].x,n=-(f[n].y-f[t].y),f=n*n*((i-2*e*r)/c+r*r)+2*n*x*((o-e*u-a*r)/c+r*u)+x*x*((y-2*a*u)/c+u*u),S.sqrt(f)}(r,a,t)+u[a],(i<0||o<i)&&(f[t]=a,i=o);u[t]=i}for(r.m=e,r.po=new Array(e),t=x,n=e-1;0<t;--n)t=f[t],r.po[n]=t}(x),!function(r){var t,n,e,a,o,i,y,x,u,f,c,l,s,p,h,d=r.m,w=r.po,v=r.len,g=r.pt,m=r.x0,A=r.y0,b=new Array(d),O=new Array(d),F=new Array(d),R=new Array(3),C=new U;for(r.curve=new z(d),n=0;n<d;++n)e=w[X(n+1,d)],e=X(e-w[n],v)+w[n],b[n]=new U,O[n]=new U,!function(r,t,n,e,a){var o,i,y,x,u,f,c=r.len,r=r.sums,l=0;for(;c<=n;)n-=c,l+=1;for(;c<=t;)t-=c,--l;for(;n<0;)n+=c,--l;for(;t<0;)t+=c,l+=1;u=r[n+1].x-r[t].x+l*r[c].x,o=r[n+1].y-r[t].y+l*r[c].y,x=r[n+1].x2-r[t].x2+l*r[c].x2,y=r[n+1].xy-r[t].xy+l*r[c].xy,r=r[n+1].y2-r[t].y2+l*r[c].y2,i=n+1-t+l*c,e.x=u/i,e.y=o/i,e=(y-u*o/i)/i,u=((y=(x-u*u/i)/i)+(x=(r-o*o/i)/i)+S.sqrt((y-x)*(y-x)+4*e*e))/2,y-=u,x-=u,S.abs(y)>=S.abs(x)?0!==(f=G(y,e))&&(a.x=-e/f,a.y=y/f):0!==(f=G(x,e))&&(a.x=-x/f,a.y=e/f);0===f&&(a.x=a.y=0)}(r,w[n],e,b[n],O[n]);for(n=0;n<d;++n)if(F[n]=new E,0===(t=O[n].x*O[n].x+O[n].y*O[n].y))for(e=0;e<3;++e)for(a=0;a<3;++a)F[n].data[3*e+a]=0;else for(R[0]=O[n].y,R[1]=-O[n].x,R[2]=-R[1]*b[n].y-R[0]*b[n].x,o=0;o<3;++o)for(a=0;a<3;++a)F[n].data[3*o+a]=R[o]*R[a]/t;for(n=0;n<d;++n){for(i=new E,y=new U,C.x=g[w[n]].x-m,C.y=g[w[n]].y-A,e=X(n-1,d),o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]=F[e].at(o,a)+F[n].at(o,a);for(;;){if(0!=(f=i.at(0,0)*i.at(1,1)-i.at(0,1)*i.at(1,0))){y.x=(-i.at(0,2)*i.at(1,1)+i.at(1,2)*i.at(0,1))/f,y.y=(i.at(0,2)*i.at(1,0)-i.at(1,2)*i.at(0,0))/f;break}for(i.at(0,0)>i.at(1,1)?(R[0]=-i.at(0,1),R[1]=i.at(0,0)):i.at(1,1)?(R[0]=-i.at(1,1),R[1]=i.at(1,0)):(R[0]=1,R[1]=0),t=R[0]*R[0]+R[1]*R[1],R[2]=-R[1]*C.y-R[0]*C.x,o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]+=R[o]*R[a]/t}if(x=S.abs(y.x-C.x),u=S.abs(y.y-C.y),x<=.5&&u<=.5)r.curve.vertex[n]=new U(y.x+m,y.y+A);else{if(c=Y(i,C),s=C.x,p=C.y,0!==i.at(0,0))for(h=0;h<2;++h)y.y=C.y-.5+h,y.x=-(i.at(0,1)*y.y+i.at(0,2))/i.at(0,0),x=S.abs(y.x-C.x),l=Y(i,y),x<=.5&&l<c&&(c=l,s=y.x,p=y.y);if(0!==i.at(1,1))for(h=0;h<2;++h)y.x=C.x-.5+h,y.y=-(i.at(1,0)*y.x+i.at(1,2))/i.at(1,1),u=S.abs(y.y-C.y),l=Y(i,y),u<=.5&&l<c&&(c=l,s=y.x,p=y.y);for(o=0;o<2;++o)for(a=0;a<2;++a)y.x=C.x-.5+o,y.y=C.y-.5+a,(l=Y(i,y))<c&&(c=l,s=y.x,p=y.y);r.curve.vertex[n]=new U(s+m,p+A)}}}(x),"-"===x.sign&&!function(r){var t,n,e,r=r.curve,a=r.n,o=r.vertex;for(t=0,n=a-1;t<n;++t,--n)e=o[t],o[t]=o[n],o[n]=e}(x),!function(r,t){var n,e,a,o,i,y,x=r.curve.n,u=r.curve;for(n=0;n<x;++n)e=X(n+1,x),i=X(n+2,x),y=j(.5,u.vertex[i],u.vertex[e]),0!==(o=function(r,t){var n=function(r,t){return new U(-q(t.y-r.y),q(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(u.vertex[n],u.vertex[i]))?(o=M(u.vertex[n],u.vertex[e],u.vertex[i])/o,o=S.abs(o),a=1<o?1-1/o:0,a/=.75):a=4/3,(u.alpha0[e]=a)>=t.alphamax?(u.tag[e]="CORNER",u.c[3*e+1]=u.vertex[e]):(a<.55?a=.55:1<a&&(a=1),o=j(.5+.5*a,u.vertex[n],u.vertex[e]),i=j(.5+.5*a,u.vertex[i],u.vertex[e]),u.tag[e]="CURVETO",u.c[3*e+0]=o,u.c[3*e+1]=i),u.c[3*e+2]=y,u.alpha[e]=a,u.beta[e]=.5;u.alphacurve=1}(x,o),o.optcurve&&!function(r,t){var n,e,a,o,i,y,x,u,f,c,l=r.curve,s=l.n,p=l.vertex,h=new Array(s+1),d=new Array(s+1),w=new Array(s+1),v=new Array(s+1),g=new R,m=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===l.tag[e]?m[e]=q(M(p[X(e-1,s)],p[e],p[X(e+1,s)])):m[e]=0;for(A[y=0]=0,o=l.vertex[0],e=0;e<s;++e)i=X(e+1,s),"CURVETO"===l.tag[i]&&(x=l.alpha[i],y=(y+=.3*x*(4-x)*M(l.c[3*e+2],p[i],l.c[3*i+2])/2)+M(o,l.c[3*e+2],l.c[3*i+2])/2),A[e+1]=y;for(h[0]=-1,d[0]=0,w[0]=0,a=1;a<=s;++a)for(h[a]=a-1,d[a]=d[a-1],w[a]=w[a-1]+1,e=a-2;0<=e&&!function(r,t,n,e,a,o,i){var y,x,u,f,c,l,s,p,h,d,w,v,g,m,A,b,O,F=r.curve.n,R=r.curve,C=R.vertex;if(t===n)return 1;if(c=X((y=t)+1,F),x=X(y+1,F),0===(f=o[x]))return 1;for(l=L(C[t],C[c]),y=x;y!=n;y=x){if(x=X(y+1,F),u=X(y+2,F),o[x]!==f)return 1;if(q(P(C[t],C[c],C[x],C[u]))!==f)return 1;if(function(r,t,n,e){var a;return a=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,a*r+t*e}(C[t],C[c],C[x],C[u])<l*L(C[x],C[u])*-.999847695156)return 1}h=R.c[3*X(t,F)+2].copy(),d=C[X(t+1,F)].copy(),w=C[X(n,F)].copy(),v=R.c[3*X(n,F)+2].copy(),r=i[n]-i[t],r-=M(C[0],R.c[3*t+2],R.c[3*n+2])/2,n<=t&&(r+=i[F]);if(i=M(h,d,w),m=M(h,d,v),A=M(h,w,v),b=i+A-m,m===i)return 1;if(i=m/(m-i),0==(m=m*(O=A/(A-b))/2))return 1;for(A=r/m,b=2-S.sqrt(4-A/.3),e.c[0]=j(O*b,h,d),e.c[1]=j(i*b,v,w),e.alpha=b,e.t=O,e.s=i,d=e.c[0].copy(),w=e.c[1].copy(),e.pen=0,y=X(t+1,F);y!=n;y=x){if(x=X(y+1,F),(O=H(h,d,w,v,C[y],C[x]))<-.5)return 1;if(g=D(O,h,d,w,v),0===(l=L(C[y],C[x])))return 1;if(s=M(C[y],C[x],g)/l,S.abs(s)>a)return 1;if($(C[y],C[x],g)<0||$(C[x],C[y],g)<0)return 1;e.pen+=s*s}for(y=t;y!=n;y=x){if(x=X(y+1,F),(O=H(h,d,w,v,R.c[3*y+2],R.c[3*x+2]))<-.5)return 1;if(g=D(O,h,d,w,v),0===(l=L(R.c[3*y+2],R.c[3*x+2])))return 1;if(s=M(R.c[3*y+2],R.c[3*x+2],g)/l,p=M(R.c[3*y+2],R.c[3*x+2],C[x])/l,(p*=.75*R.alpha[x])<0&&(s=-s,p=-p),s<p-a)return 1;s<p&&(e.pen+=(s-p)*(s-p))}return 0}(r,e,X(a,s),g,t.opttolerance,m,A);--e)(w[a]>w[e]+1||w[a]==w[e]+1&&d[a]>d[e]+g.pen)&&(h[a]=e,d[a]=d[e]+g.pen,w[a]=w[e]+1,v[a]=g,g=new R);for(n=w[s],u=new z(n),f=new Array(n),c=new Array(n),a=s,e=n-1;0<=e;--e)h[a]===a-1?(u.tag[e]=l.tag[X(a,s)],u.c[3*e+0]=l.c[3*X(a,s)+0],u.c[3*e+1]=l.c[3*X(a,s)+1],u.c[3*e+2]=l.c[3*X(a,s)+2],u.vertex[e]=l.vertex[X(a,s)],u.alpha[e]=l.alpha[X(a,s)],u.alpha0[e]=l.alpha0[X(a,s)],u.beta[e]=l.beta[X(a,s)],f[e]=c[e]=1):(u.tag[e]="CURVETO",u.c[3*e+0]=v[a].c[0],u.c[3*e+1]=v[a].c[1],u.c[3*e+2]=l.c[3*X(a,s)+2],u.vertex[e]=j(v[a].s,l.c[3*X(a,s)+2],p[X(a,s)]),u.alpha[e]=v[a].alpha,u.alpha0[e]=v[a].alpha,f[e]=v[a].s,c[e]=v[a].t),a=h[a];for(e=0;e<n;++e)i=X(e+1,n),u.beta[e]=f[e]/(f[e]+c[i]);u.alphacurve=1,r.curve=u}(x,o)}var u,f,c,l,s,p=r,h=1,r=e.color||"#000",d=e.opacity||"1.0",w=e.outline,e=!e.partial,t=t*h,n=n*h,v=p.length,g=e?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'" viewBox="0 0 '+t+" "+n+'">':"";for(w?(f=r||"#000",l='stroke-opacity="'+(d||"1.0")+'"',c="none",s=""):(c=r||"#000",l='fill-opacity="'+(d||"1.0")+'"',s=' fill-rule="evenodd"',f="none"),u=0;u<v;++u)g+='<path d="'+function(r,t){var n,e=r.n,a="M"+(r.c[3*(e-1)+2].x*t).toFixed(3)+" "+(r.c[3*(e-1)+2].y*t).toFixed(3)+" ";for(n=0;n<e;++n)"CURVETO"===r.tag[n]?a+=function(r,t,n){return"C "+(r.c[3*t+0].x*n).toFixed(3)+" "+(r.c[3*t+0].y*n).toFixed(3)+","+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+","+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t):"CORNER"===r.tag[n]&&(a+=function(r,t,n){return"L "+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+" "+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t));return a}(p[u].curve,h)+'" stroke="'+f+'" fill="'+c+'"'+s+l+" />";return e&&(g+="</svg>"),g},U[e]={constructor:U,x:0,y:0,copy:function(){return new U(this.x,this.y)}},b[e]={constructor:b,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof U?(t=r.y,r=r.x):1===arguments.length&&(t=S.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},index:function(r){return new U(r%this.width,S.floor(r/this.width))},toIndex:function(r,t){return r instanceof U&&(t=r.y,r=r.x),this.width*t+r},flip:function(r,t){r instanceof U?(t=r.y,r=r.x):1===arguments.length&&(t=S.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new b(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},O[e]={constructor:O,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1},z[e]={constructor:z,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},E[e]={constructor:E,data:null,at:function(r,t){return this.data[3*r+t]}},F[e]={constructor:F,x:0,y:0,xy:0,x2:0,y2:0},R[e]={constructor:R,pen:0,c:null,t:0,s:0,alpha:0};var t,e,S,i,m,N=t;function A(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function U(r,t){this.x=r||0,this.y=t||0}function b(r,t,n){var e=this;if(e.width=r,e.height=t,e.size=r*t,e.data=n||new i(e.size),n)for(var a=0,o=e.size;a<o;++a)e.data[a]=0<e.data[a]?1:0}function O(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function z(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function E(){this.data=[0,0,0,0,0,0,0,0,0]}function F(r,t,n,e,a){var o=this;o.x=r,o.y=t,o.xy=n,o.x2=e,o.y2=a}function R(){var r=this;r.pen=0,r.c=[new U,new U],r.t=0,r.s=0,r.alpha=0}function X(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function C(r,t){return r.x*t.y-r.y*t.x}function k(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function q(r){return 0<r?1:r<0?-1:0}function Y(r,t){for(var n,e=[t.x,t.y,1],a=0,o=0;o<3;++o)for(n=0;n<3;++n)a+=e[o]*r.at(o,n)*e[n];return a}function j(r,t,n){return new U(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function M(r,t,n){var e=t.x-r.x,t=t.y-r.y,a=n.x-r.x;return e*(n.y-r.y)-a*t}function P(r,t,n,e){var a=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return a*(e.y-n.y)-r*t}function $(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function G(r,t){r=S.abs(r),t=S.abs(t);var n=S.max(r,t);return 0===n?0:n*S.sqrt((r/=n)*r+(t/=n)*t)}function L(r,t){return G(r.x-t.x,r.y-t.y)}function D(r,t,n,e,a){var o=1-r,i=r*r,y=o*o,x=y*o,u=i*r,y=3*y*r,r=3*i*o;return new U(x*t.x+y*n.x+r*e.x+u*a.x,x*t.y+y*n.y+r*e.y+u*a.y)}function H(r,t,n,e,a,o){var r=P(r,t,a,o),t=P(t,n,a,o),n=r-2*t+P(n,e,a,o),e=-2*r+2*t,a=e*e-4*n*r;return 0===n||a<0?-1:(t=(-e-(o=S.sqrt(a)))/(2*n),0<=(r=(-e+o)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r.potrace=N,r});