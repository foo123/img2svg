/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-08-31 19:39:55
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var z=Math,E="undefined"!=typeof Uint8Array?Uint8Array:Array;function r(r,t){var n,e,a,o,i,y,x,u,f,c,l,s,h,p=z.min(z.max(null==(t=t||{}).depth?2:t.depth,1),256),v=z.min(z.max(null==t.depthR?p:t.depthR,1),256),w=z.min(z.max(null==t.depthG?p:t.depthG,1),256),d=z.min(z.max(null==t.depthB?p:t.depthB,1),256),m=r.width,g=r.height,A=r.data,b=m*g,O=A.length,R="",F=z.floor(256/v),C=z.floor(256/w),U=z.floor(256/d);if(t.grayscale)for(i=e=0;e<w;++e,i+=C){for(h=new E(b),l=c=s=0;c<O;c+=4,++l)0<A[c+3]&&i<=(u=A[c+1])&&u<i+C?(++s,h[l]=255):h[l]=0;0<s&&(t.color=X(i,i,i),t.partial=!0,R+=q.process(h,m,g,t)),h=null}else for(o=n=0;n<d;++n,o+=U)for(i=e=0;e<w;++e,i+=C)for(y=a=0;a<v;++a,y+=F){for(h=new E(b),l=c=s=0;c<O;c+=4,++l)0<A[c+3]&&(x=A[c],u=A[c+1],f=A[c+2],y<=x)&&x<y+F&&i<=u&&u<i+C&&o<=f&&f<o+U?(++s,h[l]=255):h[l]=0;0<s&&(t.color=X(y,i,o),t.partial=!0,R+=q.process(h,m,g,t)),h=null}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+m+'" height="'+g+'" viewBox="0 0 '+m+" "+g+'">'+R+"</svg>"}function X(r,t,n){r=r.toString(16),t=t.toString(16),n=n.toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}r.VERSION="1.0.0",r.potrace=function(){return q};t={VERSION:"1.16"},e="prototype",U=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,w={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2},t.defaultOptions=function(){return d({},w)},t.process=function(r,t,n,e){d(e,w);for(var r=function(r,t){var n,e=r.copy(),a=new Y(0,0),o=[];for(;a=function(r,t){var n=r.toIndex(t);for(;n<r.size&&0===r.data[n];)++n;return n<r.size&&r.index(n)}(e,a);)n=function(r,t,n,e){var a,o,i,y,x=new g,u=n.x,f=n.y,c=0,l=1;x.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(x.pt.push(new Y(u,f)),u>x.maxX&&(x.maxX=u),u<x.minX&&(x.minX=u),f>x.maxY&&(x.maxY=f),f<x.minY&&(x.minY=f),++x.len,u+=c,f+=l,x.area-=u*l,u===n.x&&f===n.y)break;i=t.at(u+(c+l-1)/2,f+(l-c-1)/2),(o=t.at(u+(c-l-1)/2,f+(l+c-1)/2))&&!i?(y=function(r,t,n){var e,a,o;for(e=2;e<5;++e){for(o=0,a=1-e;a<=e-1;++a)o=(o=(o=(o+=r.at(t+a,n+e-1)?1:-1)+(r.at(t+e-1,n+a-1)?1:-1))+(r.at(t+a-1,n-e)?1:-1))+(r.at(t-e,n+a)?1:-1);if(0<o)return 1;if(o<0)return 0}return 0}(t,u,f),l="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===x.sign||"white"===e.turnpolicy&&"-"===x.sign||"majority"===e.turnpolicy&&y||"minority"===e.turnpolicy&&!y?(a=c,c=-l,a):(a=c,c=l,-a)):o?(a=c,c=-l,l=a):i||(a=c,c=l,l=-a)}return x}(r,e,a,t),function(r,t){var n,e,a,o,i,y,x=t.pt[0].y,u=t.len;for(y=1;y<u;++y)if(n=t.pt[y].x,(e=t.pt[y].y)!==x){for(o=x<e?x:e,a=t.maxX,i=n;i<a;++i)r.flip(i,o);x=e}}(e,n),n.area>t.turdsize&&o.push(n);return e=null,o}(new m(t,n,r),e),a=r,o=e,i=0,y=a.length;i<y;++i){var x=a[i];!function(r){r.x0=r.pt[0].x,r.y0=r.pt[0].y,r.sums=[];var t,n,e,a=r.sums;for(a.push(new A(0,0,0,0,0)),t=0;t<r.len;++t)n=r.pt[t].x-r.x0,e=r.pt[t].y-r.y0,a.push(new A(a[t].x+n,a[t].y+e,a[t].xy+n*e,a[t].x2+n*n,a[t].y2+e*e))}(x),!function(r){var t,n,e,a,o,i,y,x,u,f=r.len,c=r.pt,l=new Array(f),s=new Array(f),h=new Array(4),p=[new Y,new Y],v=new Y,w=new Y,d=new Y,m=0;for(r.lon=new Array(f),e=f-1;0<=e;--e)c[e].x!=c[m].x&&c[e].y!=c[m].y&&(m=e+1),s[e]=m;for(e=f-1;0<=e;--e){for(h[0]=h[1]=h[2]=h[3]=0,t=(3+3*(c[S(e+1,f)].x-c[e].x)+(c[S(e+1,f)].y-c[e].y))/2,++h[t],p[0].x=0,p[0].y=0,p[1].x=0,p[1].y=0,m=s[e],o=e;;){if(n=0,t=(3+3*T(c[m].x-c[o].x)+T(c[m].y-c[o].y))/2,++h[t],h[0]&&h[1]&&h[2]&&h[3]){l[e]=o,n=1;break}if(v.x=c[m].x-c[e].x,v.y=c[m].y-c[e].y,O(p[0],v)<0||0<O(p[1],v))break;if(U.abs(v.x)<=1&&U.abs(v.y)<=1||(w.x=v.x+(0<=v.y&&(0<v.y||v.x<0)?1:-1),w.y=v.y+(v.x<=0&&(v.x<0||v.y<0)?1:-1),0<=O(p[0],w)&&(p[0].x=w.x,p[0].y=w.y),w.x=v.x+(v.y<=0&&(v.y<0||v.x<0)?1:-1),w.y=v.y+(0<=v.x&&(0<v.x||v.y<0)?1:-1),O(p[1],w)<=0&&(p[1].x=w.x,p[1].y=w.y)),!R(m=s[o=m],e,o))break}0===n&&(d.x=T(c[m].x-c[o].x),d.y=T(c[m].y-c[o].y),v.x=c[o].x-c[e].x,v.y=c[o].y-c[e].y,i=O(p[0],v),y=O(p[0],d),x=O(p[1],v),u=O(p[1],d),a=1e7,y<0&&(a=U.floor(i/-y)),0<u&&(a=U.min(a,U.floor(-x/u))),l[e]=S(o+a,f))}for(a=l[f-1],r.lon[f-1]=a,e=f-2;0<=e;--e)R(e+1,l[e],a)&&(a=l[e]),r.lon[e]=a;for(e=f-1;R(S(e+1,f),a,r.lon[e]);--e)r.lon[e]=a}(x),!function(r){var t,n,e,a,o,i,y,x=r.len,u=new Array(x+1),f=new Array(x+1),c=new Array(x),l=new Array(x+1),s=new Array(x+1),h=new Array(x+1);for(t=0;t<x;++t)(y=S(r.lon[S(t-1,x)]-1,x))==t&&(y=S(t+1,x)),c[t]=y<t?x:y;for(n=1,t=0;t<x;++t)for(;n<=c[t];)l[n]=t,n++;for(n=t=0;t<x;++n)s[n]=t,t=c[t];for(s[n]=x,t=x,n=e=n;0<n;--n)h[n]=t,t=l[t];for(h[0]=0,u[0]=0,n=1;n<=e;++n)for(t=h[n];t<=s[n];++t){for(i=-1,a=s[n-1];a>=l[t];--a)o=function(r,t,n){var e,a,o,i,y,x,u=r.len,f=r.pt,r=r.sums,c=0;u<=n&&(n-=u,c=1);c=0===c?(e=r[n+1].x-r[t].x,a=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,o=r[n+1].xy-r[t].xy,y=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[u].x,a=r[n+1].y-r[t].y+r[u].y,i=r[n+1].x2-r[t].x2+r[u].x2,o=r[n+1].xy-r[t].xy+r[u].xy,y=r[n+1].y2-r[t].y2+r[u].y2,n+1-t+u);return r=(f[t].x+f[n].x)/2-f[0].x,u=(f[t].y+f[n].y)/2-f[0].y,x=f[n].x-f[t].x,n=-(f[n].y-f[t].y),f=n*n*((i-2*e*r)/c+r*r)+2*n*x*((o-e*u-a*r)/c+r*u)+x*x*((y-2*a*u)/c+u*u),U.sqrt(f)}(r,a,t)+u[a],(i<0||o<i)&&(f[t]=a,i=o);u[t]=i}for(r.m=e,r.po=new Array(e),t=x,n=e-1;0<t;--n)t=f[t],r.po[n]=t}(x),!function(r){var t,n,e,a,o,i,y,x,u,f,c,l,s,h,p,v=r.m,w=r.po,d=r.len,m=r.pt,g=r.x0,A=r.y0,b=new Array(v),O=new Array(v),R=new Array(v),F=new Array(3),C=new Y;for(r.curve=new k(v),n=0;n<v;++n)e=w[S(n+1,v)],e=S(e-w[n],d)+w[n],b[n]=new Y,O[n]=new Y,!function(r,t,n,e,a){var o,i,y,x,u,f,c=r.len,r=r.sums,l=0;for(;c<=n;)n-=c,l+=1;for(;c<=t;)t-=c,--l;for(;n<0;)n+=c,--l;for(;t<0;)t+=c,l+=1;u=r[n+1].x-r[t].x+l*r[c].x,o=r[n+1].y-r[t].y+l*r[c].y,x=r[n+1].x2-r[t].x2+l*r[c].x2,y=r[n+1].xy-r[t].xy+l*r[c].xy,r=r[n+1].y2-r[t].y2+l*r[c].y2,i=n+1-t+l*c,e.x=u/i,e.y=o/i,e=(y-u*o/i)/i,u=((y=(x-u*u/i)/i)+(x=(r-o*o/i)/i)+U.sqrt((y-x)*(y-x)+4*e*e))/2,y-=u,x-=u,U.abs(y)>=U.abs(x)?0!==(f=$(y,e))&&(a.x=-e/f,a.y=y/f):0!==(f=$(x,e))&&(a.x=-x/f,a.y=e/f);0===f&&(a.x=a.y=0)}(r,w[n],e,b[n],O[n]);for(n=0;n<v;++n)if(R[n]=new V,0===(t=O[n].x*O[n].x+O[n].y*O[n].y))for(e=0;e<3;++e)for(a=0;a<3;++a)R[n].data[3*e+a]=0;else for(F[0]=O[n].y,F[1]=-O[n].x,F[2]=-F[1]*b[n].y-F[0]*b[n].x,o=0;o<3;++o)for(a=0;a<3;++a)R[n].data[3*o+a]=F[o]*F[a]/t;for(n=0;n<v;++n){for(i=new V,y=new Y,C.x=m[w[n]].x-g,C.y=m[w[n]].y-A,e=S(n-1,v),o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]=R[e].at(o,a)+R[n].at(o,a);for(;;){if(0!=(f=i.at(0,0)*i.at(1,1)-i.at(0,1)*i.at(1,0))){y.x=(-i.at(0,2)*i.at(1,1)+i.at(1,2)*i.at(0,1))/f,y.y=(i.at(0,2)*i.at(1,0)-i.at(1,2)*i.at(0,0))/f;break}for(i.at(0,0)>i.at(1,1)?(F[0]=-i.at(0,1),F[1]=i.at(0,0)):i.at(1,1)?(F[0]=-i.at(1,1),F[1]=i.at(1,0)):(F[0]=1,F[1]=0),t=F[0]*F[0]+F[1]*F[1],F[2]=-F[1]*C.y-F[0]*C.x,o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]+=F[o]*F[a]/t}if(x=U.abs(y.x-C.x),u=U.abs(y.y-C.y),x<=.5&&u<=.5)r.curve.vertex[n]=new Y(y.x+g,y.y+A);else{if(c=j(i,C),s=C.x,h=C.y,0!==i.at(0,0))for(p=0;p<2;++p)y.y=C.y-.5+p,y.x=-(i.at(0,1)*y.y+i.at(0,2))/i.at(0,0),x=U.abs(y.x-C.x),l=j(i,y),x<=.5&&l<c&&(c=l,s=y.x,h=y.y);if(0!==i.at(1,1))for(p=0;p<2;++p)y.x=C.x-.5+p,y.y=-(i.at(1,0)*y.x+i.at(1,2))/i.at(1,1),u=U.abs(y.y-C.y),l=j(i,y),u<=.5&&l<c&&(c=l,s=y.x,h=y.y);for(o=0;o<2;++o)for(a=0;a<2;++a)y.x=C.x-.5+o,y.y=C.y-.5+a,(l=j(i,y))<c&&(c=l,s=y.x,h=y.y);r.curve.vertex[n]=new Y(s+g,h+A)}}}(x),"-"===x.sign&&!function(r){var t,n,e,r=r.curve,a=r.n,o=r.vertex;for(t=0,n=a-1;t<n;++t,--n)e=o[t],o[t]=o[n],o[n]=e}(x),!function(r,t){var n,e,a,o,i,y,x=r.curve.n,u=r.curve;for(n=0;n<x;++n)e=S(n+1,x),i=S(n+2,x),y=B(.5,u.vertex[i],u.vertex[e]),0!==(o=function(r,t){var n=function(r,t){return new Y(-T(t.y-r.y),T(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(u.vertex[n],u.vertex[i]))?(o=I(u.vertex[n],u.vertex[e],u.vertex[i])/o,o=U.abs(o),a=1<o?1-1/o:0,a/=.75):a=4/3,(u.alpha0[e]=a)>=t.alphamax?(u.tag[e]="CORNER",u.c[3*e+1]=u.vertex[e]):(a<.55?a=.55:1<a&&(a=1),o=B(.5+.5*a,u.vertex[n],u.vertex[e]),i=B(.5+.5*a,u.vertex[i],u.vertex[e]),u.tag[e]="CURVETO",u.c[3*e+0]=o,u.c[3*e+1]=i),u.c[3*e+2]=y,u.alpha[e]=a,u.beta[e]=.5;u.alphacurve=1}(x,o),o.optcurve&&!function(r,t){var n,e,a,o,i,y,x,u,f,c,l=r.curve,s=l.n,h=l.vertex,p=new Array(s+1),v=new Array(s+1),w=new Array(s+1),d=new Array(s+1),m=new b,g=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===l.tag[e]?g[e]=T(I(h[S(e-1,s)],h[e],h[S(e+1,s)])):g[e]=0;for(A[y=0]=0,o=l.vertex[0],e=0;e<s;++e)i=S(e+1,s),"CURVETO"===l.tag[i]&&(x=l.alpha[i],y=(y+=.3*x*(4-x)*I(l.c[3*e+2],h[i],l.c[3*i+2])/2)+I(o,l.c[3*e+2],l.c[3*i+2])/2),A[e+1]=y;for(p[0]=-1,v[0]=0,w[0]=0,a=1;a<=s;++a)for(p[a]=a-1,v[a]=v[a-1],w[a]=w[a-1]+1,e=a-2;0<=e&&!function(r,t,n,e,a,o,i){var y,x,u,f,c,l,s,h,p,v,w,d,m,g,A,b,O,R=r.curve.n,F=r.curve,C=F.vertex;if(t===n)return 1;if(c=S((y=t)+1,R),x=S(y+1,R),0===(f=o[x]))return 1;for(l=G(C[t],C[c]),y=x;y!=n;y=x){if(x=S(y+1,R),u=S(y+2,R),o[x]!==f)return 1;if(T(N(C[t],C[c],C[x],C[u]))!==f)return 1;if(function(r,t,n,e){var a;return a=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,a*r+t*e}(C[t],C[c],C[x],C[u])<l*G(C[x],C[u])*-.999847695156)return 1}p=F.c[3*S(t,R)+2].copy(),v=C[S(t+1,R)].copy(),w=C[S(n,R)].copy(),d=F.c[3*S(n,R)+2].copy(),r=i[n]-i[t],r-=I(C[0],F.c[3*t+2],F.c[3*n+2])/2,n<=t&&(r+=i[R]);if(i=I(p,v,w),g=I(p,v,d),A=I(p,w,d),b=i+A-g,g===i)return 1;if(i=g/(g-i),0==(g=g*(O=A/(A-b))/2))return 1;for(A=r/g,b=2-U.sqrt(4-A/.3),e.c[0]=B(O*b,p,v),e.c[1]=B(i*b,d,w),e.alpha=b,e.t=O,e.s=i,v=e.c[0].copy(),w=e.c[1].copy(),e.pen=0,y=S(t+1,R);y!=n;y=x){if(x=S(y+1,R),(O=L(p,v,w,d,C[y],C[x]))<-.5)return 1;if(m=P(O,p,v,w,d),0===(l=G(C[y],C[x])))return 1;if(s=I(C[y],C[x],m)/l,U.abs(s)>a)return 1;if(M(C[y],C[x],m)<0||M(C[x],C[y],m)<0)return 1;e.pen+=s*s}for(y=t;y!=n;y=x){if(x=S(y+1,R),(O=L(p,v,w,d,F.c[3*y+2],F.c[3*x+2]))<-.5)return 1;if(m=P(O,p,v,w,d),0===(l=G(F.c[3*y+2],F.c[3*x+2])))return 1;if(s=I(F.c[3*y+2],F.c[3*x+2],m)/l,h=I(F.c[3*y+2],F.c[3*x+2],C[x])/l,(h*=.75*F.alpha[x])<0&&(s=-s,h=-h),s<h-a)return 1;s<h&&(e.pen+=(s-h)*(s-h))}return 0}(r,e,S(a,s),m,t.opttolerance,g,A);--e)(w[a]>w[e]+1||w[a]==w[e]+1&&v[a]>v[e]+m.pen)&&(p[a]=e,v[a]=v[e]+m.pen,w[a]=w[e]+1,d[a]=m,m=new b);for(n=w[s],u=new k(n),f=new Array(n),c=new Array(n),a=s,e=n-1;0<=e;--e)p[a]===a-1?(u.tag[e]=l.tag[S(a,s)],u.c[3*e+0]=l.c[3*S(a,s)+0],u.c[3*e+1]=l.c[3*S(a,s)+1],u.c[3*e+2]=l.c[3*S(a,s)+2],u.vertex[e]=l.vertex[S(a,s)],u.alpha[e]=l.alpha[S(a,s)],u.alpha0[e]=l.alpha0[S(a,s)],u.beta[e]=l.beta[S(a,s)],f[e]=c[e]=1):(u.tag[e]="CURVETO",u.c[3*e+0]=d[a].c[0],u.c[3*e+1]=d[a].c[1],u.c[3*e+2]=l.c[3*S(a,s)+2],u.vertex[e]=B(d[a].s,l.c[3*S(a,s)+2],h[S(a,s)]),u.alpha[e]=d[a].alpha,u.alpha0[e]=d[a].alpha,f[e]=d[a].s,c[e]=d[a].t),a=p[a];for(e=0;e<n;++e)i=S(e+1,n),u.beta[e]=f[e]/(f[e]+c[i]);u.alphacurve=1,r.curve=u}(x,o)}var u,f,c,l=r,s=1,r=e.color||"#000",h=e.outline,e=!e.partial,t=t*s,n=n*s,p=l.length,v=e?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'" viewBox="0 0 '+t+" "+n+'">':"";for(v+='<path d="',u=0;u<p;++u)v+=function(r,t){var n,e=r.n,a="M"+(r.c[3*(e-1)+2].x*t).toFixed(3)+" "+(r.c[3*(e-1)+2].y*t).toFixed(3)+" ";for(n=0;n<e;++n)"CURVETO"===r.tag[n]?a+=function(r,t,n){return"C "+(r.c[3*t+0].x*n).toFixed(3)+" "+(r.c[3*t+0].y*n).toFixed(3)+","+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+","+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t):"CORNER"===r.tag[n]&&(a+=function(r,t,n){return"L "+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+" "+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t));return a}(l[u].curve,s);return t=h?(f=r||"#000",c="none",""):(f="none",c=r||"#000",' fill-rule="evenodd"'),v+='" stroke="'+f+'" fill="'+c+'"'+t+"/>",e&&(v+="</svg>"),v},Y[e]={constructor:Y,x:0,y:0,copy:function(){return new Y(this.x,this.y)}},m[e]={constructor:m,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof Y?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},toIndex:function(r,t){return r instanceof Y&&(t=r.y,r=r.x),this.width*t+r},index:function(r){return new Y(r%this.width,U.floor(r/this.width))},flip:function(r,t){r instanceof Y?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new m(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},g[e]={constructor:g,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1},k[e]={constructor:k,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},V[e]={constructor:V,data:null,at:function(r,t){return this.data[3*r+t]}},A[e]={constructor:A,x:0,y:0,xy:0,x2:0,y2:0},b[e]={constructor:b,pen:0,c:null,t:0,s:0,alpha:0};var t,e,U,i,w,q=t;function d(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function Y(r,t){this.x=r||0,this.y=t||0}function m(r,t,n){var e=this;if(e.width=r,e.height=t,e.size=r*t,e.data=n||new i(e.size),n)for(var a=0,o=e.size;a<o;++a)e.data[a]=0<e.data[a]?1:0}function g(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function k(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function V(){this.data=[0,0,0,0,0,0,0,0,0]}function A(r,t,n,e,a){var o=this;o.x=r,o.y=t,o.xy=n,o.x2=e,o.y2=a}function b(){var r=this;r.pen=0,r.c=[new Y,new Y],r.t=0,r.s=0,r.alpha=0}function S(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function O(r,t){return r.x*t.y-r.y*t.x}function R(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function T(r){return 0<r?1:r<0?-1:0}function j(r,t){for(var n,e=[t.x,t.y,1],a=0,o=0;o<3;++o)for(n=0;n<3;++n)a+=e[o]*r.at(o,n)*e[n];return a}function B(r,t,n){return new Y(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function I(r,t,n){var e=t.x-r.x,t=t.y-r.y,a=n.x-r.x;return e*(n.y-r.y)-a*t}function N(r,t,n,e){var a=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return a*(e.y-n.y)-r*t}function M(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function $(r,t){r=U.abs(r),t=U.abs(t);var n=U.max(r,t);return 0===n?0:n*U.sqrt((r/=n)*r+(t/=n)*t)}function G(r,t){return $(r.x-t.x,r.y-t.y)}function P(r,t,n,e,a){var o=1-r,i=r*r,y=o*o,x=y*o,u=i*r,y=3*y*r,r=3*i*o;return new Y(x*t.x+y*n.x+r*e.x+u*a.x,x*t.y+y*n.y+r*e.y+u*a.y)}function L(r,t,n,e,a,o){var r=N(r,t,a,o),t=N(t,n,a,o),n=r-2*t+N(n,e,a,o),e=-2*r+2*t,a=e*e-4*n*r;return 0===n||a<0?-1:(t=(-e-(o=U.sqrt(a)))/(2*n),0<=(r=(-e+o)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r});