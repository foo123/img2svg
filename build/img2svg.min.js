/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-01 21:47:49
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var R=Math,k="undefined"!=typeof Uint8Array?Uint8Array:Array,S="undefined"!=typeof Float32Array?Float32Array:Array;function r(r,t){var n=(t=t||{}).mode||"color",e=r.data,o=r.width,r=r.height;return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+o+'" height="'+r+'" viewBox="0 0 '+o+" "+r+'">'+function(r,t,n,e,o){if(o&&"hue"===o.mode)return function(r,t,n,e){var o,a,i,y,f,u,x,c,l,s,p,h,d,w,v,g,m=t*n,A=r.length,b=C(null==e.depth?6:e.depth,1,360),F=C(null==e.depthHue?b:e.depthHue,1,360),O="";for(o=R.floor(360/F),i=new S(360),y=new S(360),f=new S(360),d=new S(360),w=new Array(360),p=s=0;s<A;s+=4,++p)0<r[s+3]&&(u=r[s],x=r[s+1],c=r[s+2],l=R.floor(function(r,t,n){var e,o;r/=255,t/=255,n/=255,e=R.max(r,t,n),o=R.min(r,t,n),e=0==(o=e-o)?0:e===r?60*(0+(t-n)/o):e===t?60*(2+(n-r)/o):60*(4+(r-t)/o);return C(R.round(e),0,360)%360}(u,x,c)/o)*o,i[l]=(i[l]||0)+u,y[l]=(y[l]||0)+x,f[l]=(f[l]||0)+c,d[l]=(d[l]||0)+1,w[l]=w[l]||[],w[l].push(p));for(a=n=0;n<F;++n,a+=o)if(0<d[a]){for(g=new k(m),v=w[a],s=0,h=v.length;s<h;++s)g[v[s]]=255;e.color=function(r,t,n){r=C(R.round(r),0,255).toString(16),t=C(R.round(t),0,255).toString(16),n=C(R.round(n),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}(i[a]/d[a],y[a]/d[a],f[a]/d[a]),e.partial=!0,O+=z.process(g,t,n,e),g=null,w[a]=null}return w=d=f=y=i=null,O}(r,t,n,e);var a,i,y,f,u,x,c,l,s,p,h,d,w={},v="";if(r=function(r,t,n){var e,o,a,i,y,f,u,x,c,l,s=r.length,p=C(null==t.depth?2:t.depth,1,256),h=C(null==t.depthR?p:t.depthR,1,256),d=C(null==t.depthG?p:t.depthG,1,256),w=C(null==t.depthB?p:t.depthB,1,256),p=C(null==t.depthA?p:t.depthA,1,256);if(n&&"grayscale"===n.mode){if(256===d&&256===p)return r;for(i=R.floor(256/d),f=R.floor(256/p),x=R.floor(i/2),l=R.floor(f/2),o=new k(s),e=0;e<s;e+=4)0<r[e+3]?(o[e+2]=o[e]=o[e+1]=C(R.floor(r[e+1]/i)*i+x,0,255),o[e+3]=C(R.floor(r[e+3]/f)*f+l,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}else{if(256===h&&256===d&&256===w&&256===p)return r;for(a=R.floor(256/h),i=R.floor(256/d),y=R.floor(256/w),f=R.floor(256/p),u=R.floor(a/2),x=R.floor(i/2),c=R.floor(y/2),l=R.floor(f/2),o=new k(s),e=0;e<s;e+=4)0<r[e+3]?(o[e]=C(R.floor(r[e]/a)*a+u,0,255),o[e+1]=C(R.floor(r[e+1]/i)*i+x,0,255),o[e+2]=C(R.floor(r[e+2]/y)*y+c,0,255),o[e+3]=C(R.floor(r[e+3]/f)*f+l,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}return o}(r,e,o),u=t*n,f=r.length,o&&"grayscale"===o.mode)for(i=a=0;a<f;a+=4,++i)0<r[a+3]&&(c=r[a+1],s=r[a+3],p=String(c),p+=","+p+","+p+","+String(s),w[p]?w[p].push(i):w[p]=[i]);else for(i=a=0;a<f;a+=4,++i)0<r[a+3]&&(x=r[a],c=r[a+1],l=r[a+2],s=r[a+3],p=String(x)+","+String(c)+","+String(l)+","+String(s),w[p]?w[p].push(i):w[p]=[i]);for(p in w)if((h=w[p])&&0<h.length){for(d=new k(u),a=0,y=h.length;a<y;++a)d[h[a]]=255;e.color="rgb("+p.split(",").slice(0,3).join(",")+")",e.opacity=String((+p.split(",").pop()/255).toFixed(2)),e.partial=!0,v+=z.process(d,t,n,e),d=null}return w=null,v}(e,o,r,t,{mode:n})+"</svg>"}function C(r,t,n){return R.min(R.max(r,t),n)}r.VERSION="1.0.0";t={VERSION:"1.16"},e="prototype",U=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,v={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2,minpathsegments:2},t.defaultOptions=function(){return g({},v)},t.process=function(r,t,n,e){g(e,v);for(var r=function(r,t){var n,e=r.copy(),o=new E(0,0),a=[];for(;o=function(r,t){var n=r.toIndex(t);for(;n<r.size&&0===r.data[n];)++n;return n<r.size&&r.index(n)}(e,o);)n=function(r,t,n,e){var o,a,i,y,f=new A,u=n.x,x=n.y,c=0,l=1;f.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(f.pt.push(new E(u,x)),u>f.maxX&&(f.maxX=u),u<f.minX&&(f.minX=u),x>f.maxY&&(f.maxY=x),x<f.minY&&(f.minY=x),++f.len,u+=c,x+=l,f.area-=u*l,u===n.x&&x===n.y)break;a=t.at(u+(c-l-1)/2,x+(l+c-1)/2),i=t.at(u+(c+l-1)/2,x+(l-c-1)/2),a&&!i?(y="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,t,n){var e,o,a;for(e=2;e<5;++e){for(a=0,o=1-e;o<=e-1;++o)a=(a=(a=(a+=r.at(t+o,n+e-1)?1:-1)+(r.at(t+e-1,n+o-1)?1:-1))+(r.at(t+o-1,n-e)?1:-1))+(r.at(t-e,n+o)?1:-1);if(0<a)return 1;if(a<0)return 0}return 0}(t,u,x):0,l="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===f.sign||"white"===e.turnpolicy&&"-"===f.sign||"majority"===e.turnpolicy&&y||"minority"===e.turnpolicy&&!y?(o=c,c=-l,o):(o=c,c=l,-o)):a?(o=c,c=-l,l=o):i||(o=c,c=l,l=-o)}return f}(r,e,o,t),function(r,t){var n,e,o,a,i,y,f=t.pt[0].y,u=t.len;for(y=1;y<u;++y)if(n=t.pt[y].x,(e=t.pt[y].y)!==f){for(a=f<e?f:e,o=t.maxX,i=n;i<o;++i)r.flip(i,a);f=e}}(e,n),n.area>t.turdsize&&a.push(n);return e=null,a}(new m(t,n,r),e),o=r,a=e,i=0,y=o.length;i<y;++i){var f=o[i];!function(r){r.x0=r.pt[0].x,r.y0=r.pt[0].y,r.sums=[];var t,n,e,o=r.sums;for(o.push(new b(0,0,0,0,0)),t=0;t<r.len;++t)n=r.pt[t].x-r.x0,e=r.pt[t].y-r.y0,o.push(new b(o[t].x+n,o[t].y+e,o[t].xy+n*e,o[t].x2+n*n,o[t].y2+e*e))}(f),!function(r){var t,n,e,o,a,i,y,f,u,x=r.len,c=r.pt,l=new Array(x),s=new Array(x),p=new Array(4),h=[new E,new E],d=new E,w=new E,v=new E,g=0;for(r.lon=new Array(x),e=x-1;0<=e;--e)c[e].x!=c[g].x&&c[e].y!=c[g].y&&(g=e+1),s[e]=g;for(e=x-1;0<=e;--e){for(p[0]=p[1]=p[2]=p[3]=0,t=(3+3*(c[Y(e+1,x)].x-c[e].x)+(c[Y(e+1,x)].y-c[e].y))/2,++p[t],h[0].x=0,h[0].y=0,h[1].x=0,h[1].y=0,g=s[e],a=e;;){if(n=0,t=(3+3*j(c[g].x-c[a].x)+j(c[g].y-c[a].y))/2,++p[t],p[0]&&p[1]&&p[2]&&p[3]){l[e]=a,n=1;break}if(d.x=c[g].x-c[e].x,d.y=c[g].y-c[e].y,O(h[0],d)<0||0<O(h[1],d))break;if(U.abs(d.x)<=1&&U.abs(d.y)<=1||(w.x=d.x+(0<=d.y&&(0<d.y||d.x<0)?1:-1),w.y=d.y+(d.x<=0&&(d.x<0||d.y<0)?1:-1),0<=O(h[0],w)&&(h[0].x=w.x,h[0].y=w.y),w.x=d.x+(d.y<=0&&(d.y<0||d.x<0)?1:-1),w.y=d.y+(0<=d.x&&(0<d.x||d.y<0)?1:-1),O(h[1],w)<=0&&(h[1].x=w.x,h[1].y=w.y)),!V(g=s[a=g],e,a))break}0===n&&(v.x=j(c[g].x-c[a].x),v.y=j(c[g].y-c[a].y),d.x=c[a].x-c[e].x,d.y=c[a].y-c[e].y,i=O(h[0],d),y=O(h[0],v),f=O(h[1],d),u=O(h[1],v),o=1e7,y<0&&(o=U.floor(i/-y)),0<u&&(o=U.min(o,U.floor(-f/u))),l[e]=Y(a+o,x))}for(o=l[x-1],r.lon[x-1]=o,e=x-2;0<=e;--e)V(e+1,l[e],o)&&(o=l[e]),r.lon[e]=o;for(e=x-1;V(Y(e+1,x),o,r.lon[e]);--e)r.lon[e]=o}(f),!function(r){var t,n,e,o,a,i,y,f=r.len,u=new Array(f+1),x=new Array(f+1),c=new Array(f),l=new Array(f+1),s=new Array(f+1),p=new Array(f+1);for(t=0;t<f;++t)(y=Y(r.lon[Y(t-1,f)]-1,f))==t&&(y=Y(t+1,f)),c[t]=y<t?f:y;for(n=1,t=0;t<f;++t)for(;n<=c[t];)l[n]=t,n++;for(n=t=0;t<f;++n)s[n]=t,t=c[t];for(s[n]=f,t=f,n=e=n;0<n;--n)p[n]=t,t=l[t];for(p[0]=0,u[0]=0,n=1;n<=e;++n)for(t=p[n];t<=s[n];++t){for(i=-1,o=s[n-1];o>=l[t];--o)a=function(r,t,n){var e,o,a,i,y,f,u=r.len,x=r.pt,r=r.sums,c=0;u<=n&&(n-=u,c=1);c=0===c?(e=r[n+1].x-r[t].x,o=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,a=r[n+1].xy-r[t].xy,y=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[u].x,o=r[n+1].y-r[t].y+r[u].y,i=r[n+1].x2-r[t].x2+r[u].x2,a=r[n+1].xy-r[t].xy+r[u].xy,y=r[n+1].y2-r[t].y2+r[u].y2,n+1-t+u);return r=(x[t].x+x[n].x)/2-x[0].x,u=(x[t].y+x[n].y)/2-x[0].y,f=x[n].x-x[t].x,n=-(x[n].y-x[t].y),x=n*n*((i-2*e*r)/c+r*r)+2*n*f*((a-e*u-o*r)/c+r*u)+f*f*((y-2*o*u)/c+u*u),U.sqrt(x)}(r,o,t)+u[o],(i<0||a<i)&&(x[t]=o,i=a);u[t]=i}for(r.m=e,r.po=new Array(e),t=f,n=e-1;0<t;--n)t=x[t],r.po[n]=t}(f),!function(r){var t,n,e,o,a,i,y,f,u,x,c,l,s,p,h,d=r.m,w=r.po,v=r.len,g=r.pt,m=r.x0,A=r.y0,b=new Array(d),F=new Array(d),O=new Array(d),R=new Array(3),k=new E;for(r.curve=new X(d),n=0;n<d;++n)e=w[Y(n+1,d)],e=Y(e-w[n],v)+w[n],b[n]=new E,F[n]=new E,!function(r,t,n,e,o){var a,i,y,f,u,x,c=r.len,r=r.sums,l=0;for(;c<=n;)n-=c,l+=1;for(;c<=t;)t-=c,--l;for(;n<0;)n+=c,--l;for(;t<0;)t+=c,l+=1;u=r[n+1].x-r[t].x+l*r[c].x,a=r[n+1].y-r[t].y+l*r[c].y,f=r[n+1].x2-r[t].x2+l*r[c].x2,y=r[n+1].xy-r[t].xy+l*r[c].xy,r=r[n+1].y2-r[t].y2+l*r[c].y2,i=n+1-t+l*c,e.x=u/i,e.y=a/i,e=(y-u*a/i)/i,u=((y=(f-u*u/i)/i)+(f=(r-a*a/i)/i)+U.sqrt((y-f)*(y-f)+4*e*e))/2,y-=u,f-=u,U.abs(y)>=U.abs(f)?0!==(x=$(y,e))&&(o.x=-e/x,o.y=y/x):0!==(x=$(f,e))&&(o.x=-f/x,o.y=e/x);0===x&&(o.x=o.y=0)}(r,w[n],e,b[n],F[n]);for(n=0;n<d;++n)if(O[n]=new q,0===(t=F[n].x*F[n].x+F[n].y*F[n].y))for(e=0;e<3;++e)for(o=0;o<3;++o)O[n].data[3*e+o]=0;else for(R[0]=F[n].y,R[1]=-F[n].x,R[2]=-R[1]*b[n].y-R[0]*b[n].x,a=0;a<3;++a)for(o=0;o<3;++o)O[n].data[3*a+o]=R[a]*R[o]/t;for(n=0;n<d;++n){for(i=new q,y=new E,k.x=g[w[n]].x-m,k.y=g[w[n]].y-A,e=Y(n-1,d),a=0;a<3;++a)for(o=0;o<3;++o)i.data[3*a+o]=O[e].at(a,o)+O[n].at(a,o);for(;;){if(0!=(x=i.at(0,0)*i.at(1,1)-i.at(0,1)*i.at(1,0))){y.x=(-i.at(0,2)*i.at(1,1)+i.at(1,2)*i.at(0,1))/x,y.y=(i.at(0,2)*i.at(1,0)-i.at(1,2)*i.at(0,0))/x;break}for(i.at(0,0)>i.at(1,1)?(R[0]=-i.at(0,1),R[1]=i.at(0,0)):i.at(1,1)?(R[0]=-i.at(1,1),R[1]=i.at(1,0)):(R[0]=1,R[1]=0),t=R[0]*R[0]+R[1]*R[1],R[2]=-R[1]*k.y-R[0]*k.x,a=0;a<3;++a)for(o=0;o<3;++o)i.data[3*a+o]+=R[a]*R[o]/t}if(f=U.abs(y.x-k.x),u=U.abs(y.y-k.y),f<=.5&&u<=.5)r.curve.vertex[n]=new E(y.x+m,y.y+A);else{if(c=T(i,k),s=k.x,p=k.y,0!==i.at(0,0))for(h=0;h<2;++h)y.y=k.y-.5+h,y.x=-(i.at(0,1)*y.y+i.at(0,2))/i.at(0,0),f=U.abs(y.x-k.x),l=T(i,y),f<=.5&&l<c&&(c=l,s=y.x,p=y.y);if(0!==i.at(1,1))for(h=0;h<2;++h)y.x=k.x-.5+h,y.y=-(i.at(1,0)*y.x+i.at(1,2))/i.at(1,1),u=U.abs(y.y-k.y),l=T(i,y),u<=.5&&l<c&&(c=l,s=y.x,p=y.y);for(a=0;a<2;++a)for(o=0;o<2;++o)y.x=k.x-.5+a,y.y=k.y-.5+o,(l=T(i,y))<c&&(c=l,s=y.x,p=y.y);r.curve.vertex[n]=new E(s+m,p+A)}}}(f),"-"===f.sign&&!function(r){var t,n,e,r=r.curve,o=r.n,a=r.vertex;for(t=0,n=o-1;t<n;++t,--n)e=a[t],a[t]=a[n],a[n]=e}(f),!function(r,t){var n,e,o,a,i,y,f=r.curve.n,u=r.curve;for(n=0;n<f;++n)e=Y(n+1,f),i=Y(n+2,f),y=B(.5,u.vertex[i],u.vertex[e]),0!==(a=function(r,t){var n=function(r,t){return new E(-j(t.y-r.y),j(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(u.vertex[n],u.vertex[i]))?(a=I(u.vertex[n],u.vertex[e],u.vertex[i])/a,a=U.abs(a),o=1<a?1-1/a:0,o/=.75):o=4/3,(u.alpha0[e]=o)>=t.alphamax?(u.tag[e]="CORNER",u.c[3*e+1]=u.vertex[e]):(o<.55?o=.55:1<o&&(o=1),a=B(.5+.5*o,u.vertex[n],u.vertex[e]),i=B(.5+.5*o,u.vertex[i],u.vertex[e]),u.tag[e]="CURVETO",u.c[3*e+0]=a,u.c[3*e+1]=i),u.c[3*e+2]=y,u.alpha[e]=o,u.beta[e]=.5;u.alphacurve=1}(f,a),a.optcurve&&!function(r,t){var n,e,o,a,i,y,f,u,x,c,l=r.curve,s=l.n,p=l.vertex,h=new Array(s+1),d=new Array(s+1),w=new Array(s+1),v=new Array(s+1),g=new F,m=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===l.tag[e]?m[e]=j(I(p[Y(e-1,s)],p[e],p[Y(e+1,s)])):m[e]=0;for(A[y=0]=0,a=l.vertex[0],e=0;e<s;++e)i=Y(e+1,s),"CURVETO"===l.tag[i]&&(f=l.alpha[i],y=(y+=.3*f*(4-f)*I(l.c[3*e+2],p[i],l.c[3*i+2])/2)+I(a,l.c[3*e+2],l.c[3*i+2])/2),A[e+1]=y;for(h[0]=-1,d[0]=0,w[0]=0,o=1;o<=s;++o)for(h[o]=o-1,d[o]=d[o-1],w[o]=w[o-1]+1,e=o-2;0<=e&&!function(r,t,n,e,o,a,i){var y,f,u,x,c,l,s,p,h,d,w,v,g,m,A,b,F,O=r.curve.n,R=r.curve,k=R.vertex;if(t===n)return 1;if(c=Y((y=t)+1,O),f=Y(y+1,O),0===(x=a[f]))return 1;for(l=G(k[t],k[c]),y=f;y!=n;y=f){if(f=Y(y+1,O),u=Y(y+2,O),a[f]!==x)return 1;if(j(N(k[t],k[c],k[f],k[u]))!==x)return 1;if(function(r,t,n,e){var o;return o=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,o*r+t*e}(k[t],k[c],k[f],k[u])<l*G(k[f],k[u])*-.999847695156)return 1}h=R.c[3*Y(t,O)+2].copy(),d=k[Y(t+1,O)].copy(),w=k[Y(n,O)].copy(),v=R.c[3*Y(n,O)+2].copy(),r=i[n]-i[t],r-=I(k[0],R.c[3*t+2],R.c[3*n+2])/2,n<=t&&(r+=i[O]);if(i=I(h,d,w),m=I(h,d,v),A=I(h,w,v),b=i+A-m,m===i)return 1;if(i=m/(m-i),0==(m=m*(F=A/(A-b))/2))return 1;for(A=r/m,b=2-U.sqrt(4-A/.3),e.c[0]=B(F*b,h,d),e.c[1]=B(i*b,v,w),e.alpha=b,e.t=F,e.s=i,d=e.c[0].copy(),w=e.c[1].copy(),e.pen=0,y=Y(t+1,O);y!=n;y=f){if(f=Y(y+1,O),(F=P(h,d,w,v,k[y],k[f]))<-.5)return 1;if(g=H(F,h,d,w,v),0===(l=G(k[y],k[f])))return 1;if(s=I(k[y],k[f],g)/l,U.abs(s)>o)return 1;if(M(k[y],k[f],g)<0||M(k[f],k[y],g)<0)return 1;e.pen+=s*s}for(y=t;y!=n;y=f){if(f=Y(y+1,O),(F=P(h,d,w,v,R.c[3*y+2],R.c[3*f+2]))<-.5)return 1;if(g=H(F,h,d,w,v),0===(l=G(R.c[3*y+2],R.c[3*f+2])))return 1;if(s=I(R.c[3*y+2],R.c[3*f+2],g)/l,p=I(R.c[3*y+2],R.c[3*f+2],k[f])/l,(p*=.75*R.alpha[f])<0&&(s=-s,p=-p),s<p-o)return 1;s<p&&(e.pen+=(s-p)*(s-p))}return 0}(r,e,Y(o,s),g,t.opttolerance,m,A);--e)(w[o]>w[e]+1||w[o]==w[e]+1&&d[o]>d[e]+g.pen)&&(h[o]=e,d[o]=d[e]+g.pen,w[o]=w[e]+1,v[o]=g,g=new F);for(n=w[s],u=new X(n),x=new Array(n),c=new Array(n),o=s,e=n-1;0<=e;--e)h[o]===o-1?(u.tag[e]=l.tag[Y(o,s)],u.c[3*e+0]=l.c[3*Y(o,s)+0],u.c[3*e+1]=l.c[3*Y(o,s)+1],u.c[3*e+2]=l.c[3*Y(o,s)+2],u.vertex[e]=l.vertex[Y(o,s)],u.alpha[e]=l.alpha[Y(o,s)],u.alpha0[e]=l.alpha0[Y(o,s)],u.beta[e]=l.beta[Y(o,s)],x[e]=c[e]=1):(u.tag[e]="CURVETO",u.c[3*e+0]=v[o].c[0],u.c[3*e+1]=v[o].c[1],u.c[3*e+2]=l.c[3*Y(o,s)+2],u.vertex[e]=B(v[o].s,l.c[3*Y(o,s)+2],p[Y(o,s)]),u.alpha[e]=v[o].alpha,u.alpha0[e]=v[o].alpha,x[e]=v[o].s,c[e]=v[o].t),o=h[o];for(e=0;e<n;++e)i=Y(e+1,n),u.beta[e]=x[e]/(x[e]+c[i]);u.alphacurve=1,r.curve=u}(f,a)}var u,x=r,c=+((r=e).scale||1),e=r.color||"#000",l=r.opacity||"1.0",s=r.outline,p=!r.partial,h=r.minpathsegments,r=t*c,t=n*c,d=x.length,w=p?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+r+'" height="'+t+'" viewBox="0 0 '+r+" "+t+'">':"";if(n=s?'stroke="'+e+'" stroke-opacity="'+l+'" stroke-width="'+s+'" fill="none"':'stroke="'+e+'" stroke-opacity="'+l+'" stroke-width="0.5" fill="'+e+'" fill-opacity="'+l+'" fill-rule="evenodd"',0<d){for(w+="<path "+n+' d="',u=0;u<d;++u)w+=function(r,t,n){var e,o=r.n,a=0,i="M"+(r.c[3*(o-1)+2].x*t).toFixed(3)+" "+(r.c[3*(o-1)+2].y*t).toFixed(3)+" ";for(e=0;e<o;++e)"CURVETO"===r.tag[e]?(i+=function(r,t,n){return"C "+(r.c[3*t+0].x*n).toFixed(3)+" "+(r.c[3*t+0].y*n).toFixed(3)+","+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+","+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,e,t),a+=3):"CORNER"===r.tag[e]&&(i+=function(r,t,n){return"L "+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+" "+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,e,t),a+=2);return a<n?"":i}(x[u].curve,c,h);w+='" />'}return p&&(w+="</svg>"),w},E[e]={constructor:E,x:0,y:0,copy:function(){return new E(this.x,this.y)}},m[e]={constructor:m,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof E?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},index:function(r){return new E(r%this.width,U.floor(r/this.width))},toIndex:function(r,t){return r instanceof E&&(t=r.y,r=r.x),this.width*t+r},flip:function(r,t){r instanceof E?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new m(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},A[e]={constructor:A,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1},X[e]={constructor:X,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},q[e]={constructor:q,data:null,at:function(r,t){return this.data[3*r+t]}},b[e]={constructor:b,x:0,y:0,xy:0,x2:0,y2:0},F[e]={constructor:F,pen:0,c:null,t:0,s:0,alpha:0};var t,e,U,i,v,z=t;function g(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function E(r,t){this.x=r||0,this.y=t||0}function m(r,t,n){var e=this;if(e.width=r,e.height=t,e.size=r*t,e.data=n||new i(e.size),n)for(var o=0,a=e.size;o<a;++o)n[o]=n[o]?1:0}function A(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function X(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function q(){this.data=[0,0,0,0,0,0,0,0,0]}function b(r,t,n,e,o){var a=this;a.x=r,a.y=t,a.xy=n,a.x2=e,a.y2=o}function F(){var r=this;r.pen=0,r.c=[new E,new E],r.t=0,r.s=0,r.alpha=0}function Y(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function O(r,t){return r.x*t.y-r.y*t.x}function V(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function j(r){return 0<r?1:r<0?-1:0}function T(r,t){for(var n,e=[t.x,t.y,1],o=0,a=0;a<3;++a)for(n=0;n<3;++n)o+=e[a]*r.at(a,n)*e[n];return o}function B(r,t,n){return new E(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function I(r,t,n){var e=t.x-r.x,t=t.y-r.y,o=n.x-r.x;return e*(n.y-r.y)-o*t}function N(r,t,n,e){var o=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return o*(e.y-n.y)-r*t}function M(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function $(r,t){r=U.abs(r),t=U.abs(t);var n=U.max(r,t);return 0===n?0:n*U.sqrt((r/=n)*r+(t/=n)*t)}function G(r,t){return $(r.x-t.x,r.y-t.y)}function H(r,t,n,e,o){var a=1-r,i=r*r,y=a*a,f=y*a,u=i*r,y=3*y*r,r=3*i*a;return new E(f*t.x+y*n.x+r*e.x+u*o.x,f*t.y+y*n.y+r*e.y+u*o.y)}function P(r,t,n,e,o,a){var r=N(r,t,o,a),t=N(t,n,o,a),n=r-2*t+N(n,e,o,a),e=-2*r+2*t,o=e*e-4*n*r;return 0===n||o<0?-1:(t=(-e-(a=U.sqrt(o)))/(2*n),0<=(r=(-e+a)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r.potrace=z,r});