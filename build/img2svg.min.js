/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-04 21:12:18
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(n,r,t){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=t.call(n)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return t.moduleUri=r.uri,t.call(n)}):r in n||(n[r]=t.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var b=Math,X="undefined"!=typeof Uint8Array?Uint8Array:Array,Y="undefined"!=typeof Float32Array?Float32Array:Array;function r(r,n){var t=(n=n||{}).mode||"color",e=r.data,o=r.width,r=r.height;return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+o+'" height="'+r+'" viewBox="0 0 '+o+" "+r+'">'+function(r,n,t,e,o){if(o&&"hue"===o.mode)return function(r,n,t,e){var o,i,a,u,f,y,x,l,c,s,h,p,d,w=n*t,v=r.length,m=C(null==e.depth?6:e.depth,1,360),g=C(null==e.depthHue?m:e.depthHue,1,360),A="";for(o=b.floor(360/g),i=new Y(g),a=new Y(g),u=new Y(g),h=new Y(g),p=new Array(g),c=l=0;l<v;l+=4,++c)0<r[l+3]&&(f=r[l]/255,y=r[l+1]/255,x=r[l+2]/255,t=b.floor(function(r,n,t){var e,o;e=b.max(r,n,t),o=b.min(r,n,t),e=0==(o=e-o)?0:e===r?60*(0+(n-t)/o):e===n?60*(2+(t-r)/o):60*(4+(r-n)/o);(e=b.round(e))<0&&(e+=360);360<=e&&(e-=360);return C(e,0,360)}(f,y,x)/o),i[t]=(i[t]||0)+f,a[t]=(a[t]||0)+y,u[t]=(u[t]||0)+x,h[t]=(h[t]||0)+1,p[t]={j:c,next:p[t]||null});for(t=0;t<g;++t)if(0<h[t]){for(d=new X(w),s=p[t];s;s=s.next)d[s.j]=255;e.color=function(r,n,t){r=C(b.round(r),0,255).toString(16),n=C(b.round(n),0,255).toString(16),t=C(b.round(t),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(n.length<2?"0":"")+n+(t.length<2?"0":"")+t}(255*i[t]/h[t],255*a[t]/h[t],255*u[t]/h[t]),e.partial=!0,A+=F.trace(d,n,t,e),d=null,p[t]=null}return p=h=u=a=i=null,A}(r,n,t,e);var i,a,u,f,y,x,l,c,s,h,p,d={},w="";if(r=function(r,n,t){var e,o,i,a,u,f,y,x,l,c,s=r.length,h=C(null==n.depth?2:n.depth,1,256),p=C(null==n.depthR?h:n.depthR,1,256),d=C(null==n.depthG?h:n.depthG,1,256),w=C(null==n.depthB?h:n.depthB,1,256),h=C(null==n.depthA?h:n.depthA,1,256);if(t&&"gray"===t.mode){if(256===d&&256===h)return r;for(a=b.floor(256/d),f=b.floor(256/h),x=b.floor(a/2),c=b.floor(f/2),o=new X(s),e=0;e<s;e+=4)0<r[e+3]?(o[e+2]=o[e]=o[e+1]=C(b.floor(r[e+1]/a)*a+x,0,255),o[e+3]=C(b.floor(r[e+3]/f)*f+c,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}else{if(256===p&&256===d&&256===w&&256===h)return r;for(i=b.floor(256/p),a=b.floor(256/d),u=b.floor(256/w),f=b.floor(256/h),y=b.floor(i/2),x=b.floor(a/2),l=b.floor(u/2),c=b.floor(f/2),o=new X(s),e=0;e<s;e+=4)0<r[e+3]?(o[e]=C(b.floor(r[e]/i)*i+y,0,255),o[e+1]=C(b.floor(r[e+1]/a)*a+x,0,255),o[e+2]=C(b.floor(r[e+2]/u)*u+l,0,255),o[e+3]=C(b.floor(r[e+3]/f)*f+c,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}return o}(r,e,o),y=n*t,f=r.length,o&&"gray"===o.mode)for(a=i=0;i<f;i+=4,++a)0<r[i+3]&&(l=r[i+1],s=r[i+3],h=String(l),h+=","+h+","+h+","+String(s),d[h]={j:a,next:d[h]||null});else for(a=i=0;i<f;i+=4,++a)0<r[i+3]&&(x=r[i],l=r[i+1],c=r[i+2],s=r[i+3],h=String(x)+","+String(l)+","+String(c)+","+String(s),d[h]={j:a,next:d[h]||null});for(h in d)if(u=d[h]){for(p=new X(y);u;u=u.next)p[u.j]=255;e.color="rgb("+h.split(",").slice(0,3).join(",")+")",e.opacity=String((+h.split(",").pop()/255).toFixed(2)),e.partial=!0,w+=F.trace(p,n,t,e),p=null,d[h]=null}return d=null,w}(e,o,r,n,{mode:t})+"</svg>"}function C(r,n,t){return b.min(b.max(r,n),t)}r.VERSION="1.0.0";n={VERSION:"1.16"},e="prototype",O=Math,a="undefined"!=typeof Uint8Array?Uint8Array:Array,x={connectedcomponents:!0,minpathsegments:2,turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2},n.defaultOptions=function(){return d({},x)},n.trace=function(r,n,t,e){d(e,x);var r=function(r,n){for(var t=r;t;t=t.next)!function(r){var n,t,e,o=r.pt,i=(r.x0=o[0].x,r.y0=o[0].y,r.sums=[],r.sums);for(i.push(new p(0,0,0,0,0)),n=0;n<r.len;++n)t=o[n].x-r.x0,e=o[n].y-r.y0,i.push(new p(i[n].x+t,i[n].y+e,i[n].xy+t*e,i[n].x2+t*t,i[n].y2+e*e))}(t),function(r){var n,t,e,o,i,a,u,f,y,x=r.len,l=r.pt,c=new Array(x),s=new Array(x),h=new Array(4),p=[new R,new R],d=new R,w=new R,v=new R,m=0;for(r.lon=new Array(x),e=x-1;0<=e;--e)l[e].x!=l[m].x&&l[e].y!=l[m].y&&(m=e+1),s[e]=m;for(e=x-1;0<=e;--e){for(h[0]=h[1]=h[2]=h[3]=0,n=(3+3*(l[U(e+1,x)].x-l[e].x)+(l[U(e+1,x)].y-l[e].y))/2,++h[n],p[0].x=0,p[0].y=0,p[1].x=0,p[1].y=0,m=s[e],i=e;;){if(t=0,n=(3+3*z(l[m].x-l[i].x)+z(l[m].y-l[i].y))/2,++h[n],h[0]&&h[1]&&h[2]&&h[3]){c[e]=i,t=1;break}if(d.x=l[m].x-l[e].x,d.y=l[m].y-l[e].y,g(p[0],d)<0||0<g(p[1],d))break;if(O.abs(d.x)<=1&&O.abs(d.y)<=1||(w.x=d.x+(0<=d.y&&(0<d.y||d.x<0)?1:-1),w.y=d.y+(d.x<=0&&(d.x<0||d.y<0)?1:-1),0<=g(p[0],w)&&(p[0].x=w.x,p[0].y=w.y),w.x=d.x+(d.y<=0&&(d.y<0||d.x<0)?1:-1),w.y=d.y+(0<=d.x&&(0<d.x||d.y<0)?1:-1),g(p[1],w)<=0&&(p[1].x=w.x,p[1].y=w.y)),!A(m=s[i=m],e,i))break}0===t&&(v.x=z(l[m].x-l[i].x),v.y=z(l[m].y-l[i].y),d.x=l[i].x-l[e].x,d.y=l[i].y-l[e].y,a=g(p[0],d),u=g(p[0],v),f=g(p[1],d),y=g(p[1],v),o=1e7,u<0&&(o=O.floor(a/-u)),0<y&&(o=O.min(o,O.floor(-f/y))),c[e]=U(i+o,x))}for(o=c[x-1],r.lon[x-1]=o,e=x-2;0<=e;--e)A(e+1,c[e],o)&&(o=c[e]),r.lon[e]=o;for(e=x-1;A(U(e+1,x),o,r.lon[e]);--e)r.lon[e]=o}(t),function(r){var n,t,e,o,i,a,u,f=r.len,y=new Array(f+1),x=new Array(f+1),l=new Array(f),c=new Array(f+1),s=new Array(f+1),h=new Array(f+1);for(n=0;n<f;++n)(u=U(r.lon[U(n-1,f)]-1,f))==n&&(u=U(n+1,f)),l[n]=u<n?f:u;for(t=1,n=0;n<f;++n)for(;t<=l[n];)c[t]=n,t++;for(t=n=0;n<f;++t)s[t]=n,n=l[n];for(s[t]=f,n=f,t=e=t;0<t;--t)h[t]=n,n=c[n];for(h[0]=0,y[0]=0,t=1;t<=e;++t)for(n=h[t];n<=s[t];++n){for(a=-1,o=s[t-1];o>=c[n];--o)i=function(r,n,t){var e,o,i,a,u,f,y=r.len,x=r.pt,r=r.sums,l=0;y<=t&&(t-=y,l=1);l=0===l?(e=r[t+1].x-r[n].x,o=r[t+1].y-r[n].y,a=r[t+1].x2-r[n].x2,i=r[t+1].xy-r[n].xy,u=r[t+1].y2-r[n].y2,t+1-n):(e=r[t+1].x-r[n].x+r[y].x,o=r[t+1].y-r[n].y+r[y].y,a=r[t+1].x2-r[n].x2+r[y].x2,i=r[t+1].xy-r[n].xy+r[y].xy,u=r[t+1].y2-r[n].y2+r[y].y2,t+1-n+y);return r=(x[n].x+x[t].x)/2-x[0].x,y=(x[n].y+x[t].y)/2-x[0].y,f=x[t].x-x[n].x,t=-(x[t].y-x[n].y),x=t*t*((a-2*e*r)/l+r*r)+2*t*f*((i-e*y-o*r)/l+r*y)+f*f*((u-2*o*y)/l+y*y),O.sqrt(x)}(r,o,n)+y[o],(a<0||i<a)&&(x[n]=o,a=i);y[n]=a}for(r.m=e,r.po=new Array(e),n=f,t=e-1;0<n;--t)n=x[n],r.po[t]=n}(t),function(r){var n,t,e,o,i,a,u,f,y,x,l,c,s,h,p,d=r.m,w=r.po,v=r.len,m=r.pt,g=r.x0,A=r.y0,b=new Array(d),X=new Array(d),Y=new Array(d),C=new Array(3),F=new R;for(r.curve=new k(d),t=0;t<d;++t)e=w[U(t+1,d)],e=U(e-w[t],v)+w[t],b[t]=new R,X[t]=new R,!function(r,n,t,e,o){var i,a,u,f,y,x,l=r.len,r=r.sums,c=0;for(;l<=t;)t-=l,c+=1;for(;l<=n;)n-=l,--c;for(;t<0;)t+=l,--c;for(;n<0;)n+=l,c+=1;y=r[t+1].x-r[n].x+c*r[l].x,i=r[t+1].y-r[n].y+c*r[l].y,f=r[t+1].x2-r[n].x2+c*r[l].x2,u=r[t+1].xy-r[n].xy+c*r[l].xy,r=r[t+1].y2-r[n].y2+c*r[l].y2,a=t+1-n+c*l,e.x=y/a,e.y=i/a,e=(u-y*i/a)/a,y=((u=(f-y*y/a)/a)+(f=(r-i*i/a)/a)+O.sqrt((u-f)*(u-f)+4*e*e))/2,u-=y,f-=y,O.abs(u)>=O.abs(f)?0!==(x=I(u,e))&&(o.x=-e/x,o.y=u/x):0!==(x=I(f,e))&&(o.x=-f/x,o.y=e/x);0===x&&(o.x=o.y=0)}(r,w[t],e,b[t],X[t]);for(t=0;t<d;++t)if(Y[t]=new S,0===(n=X[t].x*X[t].x+X[t].y*X[t].y))for(e=0;e<3;++e)for(o=0;o<3;++o)Y[t].data[3*e+o]=0;else for(C[0]=X[t].y,C[1]=-X[t].x,C[2]=-C[1]*b[t].y-C[0]*b[t].x,i=0;i<3;++i)for(o=0;o<3;++o)Y[t].data[3*i+o]=C[i]*C[o]/n;for(t=0;t<d;++t){for(a=new S,u=new R,F.x=m[w[t]].x-g,F.y=m[w[t]].y-A,e=U(t-1,d),i=0;i<3;++i)for(o=0;o<3;++o)a.data[3*i+o]=Y[e].at(i,o)+Y[t].at(i,o);for(;;){if(0!=(x=a.at(0,0)*a.at(1,1)-a.at(0,1)*a.at(1,0))){u.x=(-a.at(0,2)*a.at(1,1)+a.at(1,2)*a.at(0,1))/x,u.y=(a.at(0,2)*a.at(1,0)-a.at(1,2)*a.at(0,0))/x;break}for(a.at(0,0)>a.at(1,1)?(C[0]=-a.at(0,1),C[1]=a.at(0,0)):a.at(1,1)?(C[0]=-a.at(1,1),C[1]=a.at(1,0)):(C[0]=1,C[1]=0),n=C[0]*C[0]+C[1]*C[1],C[2]=-C[1]*F.y-C[0]*F.x,i=0;i<3;++i)for(o=0;o<3;++o)a.data[3*i+o]+=C[i]*C[o]/n}if(f=O.abs(u.x-F.x),y=O.abs(u.y-F.y),f<=.5&&y<=.5)r.curve.vertex[t]=new R(u.x+g,u.y+A);else{if(l=E(a,F),s=F.x,h=F.y,0!==a.at(0,0))for(p=0;p<2;++p)u.y=F.y-.5+p,u.x=-(a.at(0,1)*u.y+a.at(0,2))/a.at(0,0),f=O.abs(u.x-F.x),c=E(a,u),f<=.5&&c<l&&(l=c,s=u.x,h=u.y);if(0!==a.at(1,1))for(p=0;p<2;++p)u.x=F.x-.5+p,u.y=-(a.at(1,0)*u.x+a.at(1,2))/a.at(1,1),y=O.abs(u.y-F.y),c=E(a,u),y<=.5&&c<l&&(l=c,s=u.x,h=u.y);for(i=0;i<2;++i)for(o=0;o<2;++o)u.x=F.x-.5+i,u.y=F.y-.5+o,(c=E(a,u))<l&&(l=c,s=u.x,h=u.y);r.curve.vertex[t]=new R(s+g,h+A)}}}(t),"-"===t.sign&&function(r){var n,t,e,r=r.curve,o=r.n,i=r.vertex;for(n=0,t=o-1;n<t;++n,--t)e=i[n],i[n]=i[t],i[t]=e}(t),function(r,n){var t,e,o,i,a,u,f=r.curve.n,y=r.curve;for(t=0;t<f;++t)e=U(t+1,f),a=U(t+2,f),u=q(.5,y.vertex[a],y.vertex[e]),0!==(i=function(r,n){var t=function(r,n){return new R(-z(n.y-r.y),z(n.x-r.x))}(r,n);return t.y*(n.x-r.x)-t.x*(n.y-r.y)}(y.vertex[t],y.vertex[a]))?(i=V(y.vertex[t],y.vertex[e],y.vertex[a])/i,i=O.abs(i),o=1<i?1-1/i:0,o/=.75):o=4/3,(y.alpha0[e]=o)>=n.alphamax?(y.tag[e]="CORNER",y.c[3*e+1]=y.vertex[e]):(o<.55?o=.55:1<o&&(o=1),i=q(.5+.5*o,y.vertex[t],y.vertex[e]),a=q(.5+.5*o,y.vertex[a],y.vertex[e]),y.tag[e]="CURVETO",y.c[3*e+0]=i,y.c[3*e+1]=a),y.c[3*e+2]=u,y.alpha[e]=o,y.beta[e]=.5;y.alphacurve=1}(t,n),n.optcurve&&!function(r,n){var t,e,o,i,a,u,f,y,x,l,c=r.curve,s=c.n,h=c.vertex,p=new Array(s+1),d=new Array(s+1),w=new Array(s+1),v=new Array(s+1),m=new j,g=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===c.tag[e]?g[e]=z(V(h[U(e-1,s)],h[e],h[U(e+1,s)])):g[e]=0;for(A[u=0]=0,i=c.vertex[0],e=0;e<s;++e)a=U(e+1,s),"CURVETO"===c.tag[a]&&(f=c.alpha[a],u=(u+=.3*f*(4-f)*V(c.c[3*e+2],h[a],c.c[3*a+2])/2)+V(i,c.c[3*e+2],c.c[3*a+2])/2),A[e+1]=u;for(p[0]=-1,d[0]=0,w[0]=0,o=1;o<=s;++o)for(p[o]=o-1,d[o]=d[o-1],w[o]=w[o-1]+1,e=o-2;0<=e&&!function(r,n,t,e,o,i,a){var u,f,y,x,l,c,s,h,p,d,w,v,m,g,A,b,X,Y=r.curve.n,C=r.curve,F=C.vertex;if(n===t)return 1;if(l=U((u=n)+1,Y),f=U(u+1,Y),0===(x=i[f]))return 1;for(c=N(F[n],F[l]),u=f;u!=t;u=f){if(f=U(u+1,Y),y=U(u+2,Y),i[f]!==x)return 1;if(z(T(F[n],F[l],F[f],F[y]))!==x)return 1;if(function(r,n,t,e){var o;return o=n.x-r.x,n=n.y-r.y,r=e.x-t.x,e=e.y-t.y,o*r+n*e}(F[n],F[l],F[f],F[y])<c*N(F[f],F[y])*-.999847695156)return 1}p=C.c[3*U(n,Y)+2].copy(),d=F[U(n+1,Y)].copy(),w=F[U(t,Y)].copy(),v=C.c[3*U(t,Y)+2].copy(),r=a[t]-a[n],r-=V(F[0],C.c[3*n+2],C.c[3*t+2])/2,t<=n&&(r+=a[Y]);if(a=V(p,d,w),g=V(p,d,v),A=V(p,w,v),b=a+A-g,g===a)return 1;if(a=g/(g-a),0==(g=g*(X=A/(A-b))/2))return 1;for(A=r/g,b=2-O.sqrt(4-A/.3),e.c[0]=q(X*b,p,d),e.c[1]=q(a*b,v,w),e.alpha=b,e.t=X,e.s=a,d=e.c[0].copy(),w=e.c[1].copy(),e.pen=0,u=U(n+1,Y);u!=t;u=f){if(f=U(u+1,Y),(X=$(p,d,w,v,F[u],F[f]))<-.5)return 1;if(m=M(X,p,d,w,v),0===(c=N(F[u],F[f])))return 1;if(s=V(F[u],F[f],m)/c,O.abs(s)>o)return 1;if(B(F[u],F[f],m)<0||B(F[f],F[u],m)<0)return 1;e.pen+=s*s}for(u=n;u!=t;u=f){if(f=U(u+1,Y),(X=$(p,d,w,v,C.c[3*u+2],C.c[3*f+2]))<-.5)return 1;if(m=M(X,p,d,w,v),0===(c=N(C.c[3*u+2],C.c[3*f+2])))return 1;if(s=V(C.c[3*u+2],C.c[3*f+2],m)/c,h=V(C.c[3*u+2],C.c[3*f+2],F[f])/c,(h*=.75*C.alpha[f])<0&&(s=-s,h=-h),s<h-o)return 1;s<h&&(e.pen+=(s-h)*(s-h))}return 0}(r,e,U(o,s),m,n.opttolerance,g,A);--e)(w[o]>w[e]+1||w[o]==w[e]+1&&d[o]>d[e]+m.pen)&&(p[o]=e,d[o]=d[e]+m.pen,w[o]=w[e]+1,v[o]=m,m=new j);for(t=w[s],y=new k(t),x=new Array(t),l=new Array(t),o=s,e=t-1;0<=e;--e)p[o]===o-1?(y.tag[e]=c.tag[U(o,s)],y.c[3*e+0]=c.c[3*U(o,s)+0],y.c[3*e+1]=c.c[3*U(o,s)+1],y.c[3*e+2]=c.c[3*U(o,s)+2],y.vertex[e]=c.vertex[U(o,s)],y.alpha[e]=c.alpha[U(o,s)],y.alpha0[e]=c.alpha0[U(o,s)],y.beta[e]=c.beta[U(o,s)],x[e]=l[e]=1):(y.tag[e]="CURVETO",y.c[3*e+0]=v[o].c[0],y.c[3*e+1]=v[o].c[1],y.c[3*e+2]=c.c[3*U(o,s)+2],y.vertex[e]=q(v[o].s,c.c[3*U(o,s)+2],h[U(o,s)]),y.alpha[e]=v[o].alpha,y.alpha0[e]=v[o].alpha,x[e]=v[o].s,l[e]=v[o].t),o=p[o];for(e=0;e<t;++e)a=U(e+1,t),y.beta[e]=x[e]/(x[e]+l[a]);y.alphacurve=1,r.curve=y}(t,n);n.connectedcomponents&&(r=function(r){var n,t,e,o;for(n=r;n;n=n.next)if(!n.isChild)for(e=null,t=n.next;t;t=t.next)!t.isChild&&function(r,n){return!(r.minX>n.maxX||r.minY>n.maxY||r.maxX<n.minX||r.maxY<n.minY)}(n,t)&&(t.isChild=!0,o=t.copy(),e?e.sibling=o:n.childlist=o,e=o);return r}(r));return r}(function(r,n){var t,e,o,i=r.copy(),a=new R(0,0);for(;a=function(r,n){var t=r.toIndex(n);for(;t<r.size&&!r.data[t];)++t;return t<r.size&&r.index(t)}(i,a);)t=function(r,n,t,e){var o,i,a,u,f=new h,y=f.pt,x=t.x,l=t.y,c=0,s=1;f.sign=r.at(t.x,t.y)?"+":"-";for(;;){if(y.push(new R(x,l)),x>f.maxX&&(f.maxX=x),x<f.minX&&(f.minX=x),l>f.maxY&&(f.maxY=l),l<f.minY&&(f.minY=l),++f.len,x+=c,l+=s,f.area-=x*s,x===t.x&&l===t.y)break;i=n.at(x+(c-s-1)/2,l+(s+c-1)/2),a=n.at(x+(c+s-1)/2,l+(s-c-1)/2),i&&!a?(u="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,n,t){var e,o,i;for(e=2;e<5;++e){for(i=0,o=1-e;o<=e-1;++o)i=(i=(i=(i+=r.at(n+o,t+e-1)?1:-1)+(r.at(n+e-1,t+o-1)?1:-1))+(r.at(n+o-1,t-e)?1:-1))+(r.at(n-e,t+o)?1:-1);if(0<i)return 1;if(i<0)return 0}return 0}(n,x,l):0,s="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===f.sign||"white"===e.turnpolicy&&"-"===f.sign||"majority"===e.turnpolicy&&u||"minority"===e.turnpolicy&&!u?(o=c,c=-s,o):(o=c,c=s,-o)):i?(o=c,c=-s,s=o):a||(o=c,c=s,s=-o)}return f}(r,i,a,n),w(i,t),t.area>n.turdsize&&(o=o||t,e&&(e.next=e.sibling=t),e=t);return i=null,o}(new s(n,t,r),e),e),o=+(e.scale||1),i=e.color||"#000",a=e.opacity||"1.0",u=e.outline,f=!e.partial,n=n*o,t=t*o,y="";return f&&(y+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+t+'" viewBox="0 0 '+n+" "+t+'">'),y+=function(r,n,t,e,o){if(!r)return"";var i,a="";o||(a+="<path "+n+' d="');for(;r;r=r.next)r.isChild||(i=function r(n,t){if(!n)return{d:"",l:0};var e,o,i=n.curve,a=i.n,u=0,f="M"+(i.c[3*(a-1)+2].x*t).toFixed(3)+" "+(i.c[3*(a-1)+2].y*t).toFixed(3)+" ";for(e=0;e<a;++e)"CURVETO"===i.tag[e]?(f+=l(i,e,t),u+=3):"CORNER"===i.tag[e]&&(f+=c(i,e,t),u+=2);f+="z ";for(n=n.childlist;n;n=n.sibling)o=r(n,t),f+=o.d,u+=o.l;return{d:f,l:u}}(r,t)).l<e||(o&&(a+="<path "+n+' d="'),a+=i.d,o&&(a+='" />'));o||(a+='" />');return a}(r,u=u?'stroke="'+i+'" stroke-opacity="'+a+'" stroke-width="'+u+'" fill="none"':'stroke="'+i+'" stroke-opacity="'+a+'" stroke-width="0.5" fill="'+i+'" fill-opacity="'+a+'" fill-rule="evenodd"',o,e.minpathsegments,e.connectedcomponents),f&&(y+="</svg>"),y},n.process=n.trace,R[e]={constructor:R,x:0,y:0,copy:function(){return new R(this.x,this.y)}},h[e]={constructor:h,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1,next:null,sibling:null,childlist:null,isChild:!(s[e]={constructor:s,width:0,height:0,size:0,data:null,at:function(r,n){return r instanceof R?(n=r.y,r=r.x):1===arguments.length&&(n=O.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=n&&n<this.height&&0<this.data[this.width*n+r]},index:function(r){return new R(r%this.width,O.floor(r/this.width))},toIndex:function(r,n){return r instanceof R&&(n=r.y,r=r.x),this.width*n+r},flip:function(r,n){r instanceof R?(n=r.y,r=r.x):1===arguments.length&&(n=O.floor(r/this.width),r%=this.width),this.data[this.width*n+r]=this.at(r,n)?0:1},copy:function(){for(var r=new s(this.width,this.height),n=0,t=this.size;n<t;++n)r.data[n]=this.data[n];return r}}),copy:function(){var r=this,n=new h;return n.area=r.area,n.len=r.len,n.curve=r.curve,n.pt=r.pt,n.minX=r.minX,n.minY=r.minY,n.maxX=r.maxX,n.maxY=r.maxY,n}},k[e]={constructor:k,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},S[e]={constructor:S,data:null,at:function(r,n){return this.data[3*r+n]}},p[e]={constructor:p,x:0,y:0,xy:0,x2:0,y2:0},j[e]={constructor:j,pen:0,c:null,t:0,s:0,alpha:0};var n,e,O,a,x,F=n;function l(r,n,t){return"C "+(r.c[3*n+0].x*t).toFixed(3)+" "+(r.c[3*n+0].y*t).toFixed(3)+","+(r.c[3*n+1].x*t).toFixed(3)+" "+(r.c[3*n+1].y*t).toFixed(3)+","+(r.c[3*n+2].x*t).toFixed(3)+" "+(r.c[3*n+2].y*t).toFixed(3)+" "}function c(r,n,t){return"L "+(r.c[3*n+1].x*t).toFixed(3)+" "+(r.c[3*n+1].y*t).toFixed(3)+" "+(r.c[3*n+2].x*t).toFixed(3)+" "+(r.c[3*n+2].y*t).toFixed(3)+" "}function R(r,n){this.x=r||0,this.y=n||0}function s(r,n,t){var e,o,i=this;if(i.width=r,i.height=n,i.size=o=r*n,i.data=new a(i.size),t)for(e=0;e<o;++e)i.data[e]=t[e]?1:0;else for(e=0;e<o;++e)i.data[e]=0}function h(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function k(r){var n=this;n.n=r,n.tag=new Array(r),n.c=new Array(3*r),n.alphaCurve=0,n.vertex=new Array(r),n.alpha=new Array(r),n.alpha0=new Array(r),n.beta=new Array(r)}function S(){this.data=[0,0,0,0,0,0,0,0,0]}function p(r,n,t,e,o){var i=this;i.x=r,i.y=n,i.xy=t,i.x2=e,i.y2=o}function j(){var r=this;r.pen=0,r.c=[new R,new R],r.t=0,r.s=0,r.alpha=0}function d(r,n){for(var t in n)Object[e].hasOwnProperty.call(n,t)&&!Object[e].hasOwnProperty.call(r,t)&&(r[t]=n[t]);return r}function w(r,n){for(var t,e,o,i,a,u=n.pt,f=u[0].y,y=n.len,x=1;x<y;++x)if(t=u[x].x,(e=u[x].y)!==f){for(i=f<e?f:e,o=n.maxX,a=t;a<o;++a)r.flip(a,i);f=e}}function U(r,n){return n<=r?r%n:0<=r?r:n-1-(-1-r)%n}function g(r,n){return r.x*n.y-r.y*n.x}function A(r,n,t){return r<=t?r<=n&&n<t:r<=n||n<t}function z(r){return 0<r?1:r<0?-1:0}function E(r,n){for(var t,e=[n.x,n.y,1],o=0,i=0;i<3;++i)for(t=0;t<3;++t)o+=e[i]*r.at(i,t)*e[t];return o}function q(r,n,t){return new R(n.x+r*(t.x-n.x),n.y+r*(t.y-n.y))}function V(r,n,t){var e=n.x-r.x,n=n.y-r.y,o=t.x-r.x;return e*(t.y-r.y)-o*n}function T(r,n,t,e){var o=n.x-r.x,n=n.y-r.y,r=e.x-t.x;return o*(e.y-t.y)-r*n}function B(r,n,t){var e=n.x-r.x,n=n.y-r.y;return e*(t.x-r.x)+n*(t.y-r.y)}function I(r,n){r=O.abs(r),n=O.abs(n);var t=O.max(r,n);return 0===t?0:t*O.sqrt((r/=t)*r+(n/=t)*n)}function N(r,n){return I(r.x-n.x,r.y-n.y)}function M(r,n,t,e,o){var i=1-r,a=r*r,u=i*i,f=u*i,y=a*r,u=3*u*r,r=3*a*i;return new R(f*n.x+u*t.x+r*e.x+y*o.x,f*n.y+u*t.y+r*e.y+y*o.y)}function $(r,n,t,e,o,i){var r=T(r,n,o,i),n=T(n,t,o,i),t=r-2*n+T(t,e,o,i),e=-2*r+2*n,o=e*e-4*t*r;return 0===t||o<0?-1:(n=(-e-(i=O.sqrt(o)))/(2*t),0<=(r=(-e+i)/(2*t))&&r<=1?r:0<=n&&n<=1?n:-1)}return r.potrace=F,r});