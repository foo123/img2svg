/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-02 13:37:17
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var b=Math,F="undefined"!=typeof Uint8Array?Uint8Array:Array,O="undefined"!=typeof Float32Array?Float32Array:Array;function r(r,t){var n=(t=t||{}).mode||"color",e=r.data,o=r.width,r=r.height;return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+o+'" height="'+r+'" viewBox="0 0 '+o+" "+r+'">'+function(r,t,n,e,o){if(o&&"hue"===o.mode)return function(r,t,n,e){var o,a,i,y,u,f,l,x,c,s,h,p,d,v=t*n,w=r.length,g=R(null==e.depth?6:e.depth,1,360),m=R(null==e.depthHue?g:e.depthHue,1,360),A="";for(o=b.floor(360/m),a=new O(m),i=new O(m),y=new O(m),h=new O(m),p=new Array(m),c=x=0;x<w;x+=4,++c)0<r[x+3]&&(u=r[x]/255,f=r[x+1]/255,l=r[x+2]/255,n=b.floor(function(r,t,n){var e,o;e=b.max(r,t,n),o=b.min(r,t,n),e=0==(o=e-o)?0:e===r?60*(0+(t-n)/o):e===t?60*(2+(n-r)/o):60*(4+(r-t)/o);(e=b.round(e))<0&&(e+=360);360<=e&&(e-=360);return R(e,0,360)}(u,f,l)/o),a[n]=(a[n]||0)+u,i[n]=(i[n]||0)+f,y[n]=(y[n]||0)+l,h[n]=(h[n]||0)+1,p[n]=[c,p[n]||null]);for(n=0;n<m;++n)if(0<h[n]){for(d=new F(v),s=p[n],s=p[n];null!=s;s=s[1])d[s[0]]=255;e.color=function(r,t,n){r=R(b.round(r),0,255).toString(16),t=R(b.round(t),0,255).toString(16),n=R(b.round(n),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}(255*a[n]/h[n],255*i[n]/h[n],255*y[n]/h[n]),e.partial=!0,A+=k.trace(d,t,n,e),d=null,p[n]=null}return p=h=y=i=a=null,A}(r,t,n,e);var a,i,y,u,f,l,x,c,s,h,p,d={},v="";if(r=function(r,t,n){var e,o,a,i,y,u,f,l,x,c,s=r.length,h=R(null==t.depth?2:t.depth,1,256),p=R(null==t.depthR?h:t.depthR,1,256),d=R(null==t.depthG?h:t.depthG,1,256),v=R(null==t.depthB?h:t.depthB,1,256),h=R(null==t.depthA?h:t.depthA,1,256);if(n&&"gray"===n.mode){if(256===d&&256===h)return r;for(i=b.floor(256/d),u=b.floor(256/h),l=b.floor(i/2),c=b.floor(u/2),o=new F(s),e=0;e<s;e+=4)0<r[e+3]?(o[e+2]=o[e]=o[e+1]=R(b.floor(r[e+1]/i)*i+l,0,255),o[e+3]=R(b.floor(r[e+3]/u)*u+c,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}else{if(256===p&&256===d&&256===v&&256===h)return r;for(a=b.floor(256/p),i=b.floor(256/d),y=b.floor(256/v),u=b.floor(256/h),f=b.floor(a/2),l=b.floor(i/2),x=b.floor(y/2),c=b.floor(u/2),o=new F(s),e=0;e<s;e+=4)0<r[e+3]?(o[e]=R(b.floor(r[e]/a)*a+f,0,255),o[e+1]=R(b.floor(r[e+1]/i)*i+l,0,255),o[e+2]=R(b.floor(r[e+2]/y)*y+x,0,255),o[e+3]=R(b.floor(r[e+3]/u)*u+c,0,255)):o[e+3]=o[e+2]=o[e+1]=o[e]=0}return o}(r,e,o),f=t*n,u=r.length,o&&"gray"===o.mode)for(i=a=0;a<u;a+=4,++i)0<r[a+3]&&(x=r[a+1],s=r[a+3],h=String(x),h+=","+h+","+h+","+String(s),d[h]=[i,d[h]||null]);else for(i=a=0;a<u;a+=4,++i)0<r[a+3]&&(l=r[a],x=r[a+1],c=r[a+2],s=r[a+3],h=String(l)+","+String(x)+","+String(c)+","+String(s),d[h]=[i,d[h]||null]);for(h in d)if((y=d[h])&&y.length){for(p=new F(f);null!=y;y=y[1])p[y[0]]=255;e.color="rgb("+h.split(",").slice(0,3).join(",")+")",e.opacity=String((+h.split(",").pop()/255).toFixed(2)),e.partial=!0,v+=k.trace(p,t,n,e),p=null,d[h]=null}return d=null,v}(e,o,r,t,{mode:n})+"</svg>"}function R(r,t,n){return b.min(b.max(r,t),n)}r.VERSION="1.0.0";t={VERSION:"1.16"},e="prototype",ft=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,lt={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2,minpathsegments:2},t.defaultOptions=function(){return ct({},lt)},t.trace=function(j,T,B,r){ct(r,lt);for(var j=function(r,t){var n,e,o,a=r.copy(),i=new st(0,0);for(;i=function(r,t){var n=r.toIndex(t);for(;n<r.size&&!r.data[n];)++n;return n<r.size&&r.index(n)}(a,i);)n=function(r,t,n,e){var o,a,i,y,u=new pt,f=u.pt,l=n.x,x=n.y,c=0,s=1;u.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(f.push(new st(l,x)),l>u.maxX&&(u.maxX=l),l<u.minX&&(u.minX=l),x>u.maxY&&(u.maxY=x),x<u.minY&&(u.minY=x),++u.len,l+=c,x+=s,u.area-=l*s,l===n.x&&x===n.y)break;a=t.at(l+(c-s-1)/2,x+(s+c-1)/2),i=t.at(l+(c+s-1)/2,x+(s-c-1)/2),a&&!i?(y="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,t,n){var e,o,a;for(e=2;e<5;++e){for(a=0,o=1-e;o<=e-1;++o)a=(a=(a=(a+=r.at(t+o,n+e-1)?1:-1)+(r.at(t+e-1,n+o-1)?1:-1))+(r.at(t+o-1,n-e)?1:-1))+(r.at(t-e,n+o)?1:-1);if(0<a)return 1;if(a<0)return 0}return 0}(t,l,x):0,s="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===u.sign||"white"===e.turnpolicy&&"-"===u.sign||"majority"===e.turnpolicy&&y||"minority"===e.turnpolicy&&!y?(o=c,c=-s,o):(o=c,c=s,-o)):a?(o=c,c=-s,s=o):i||(o=c,c=s,s=-o)}return u}(r,a,i,t),mt(a,n),n.area>t.turdsize&&(o=o||n,e&&(e.next=e.sibling=n),e=n);return a=null,o}(new ht(T,B,j),r),I=r,t=j;t;t=t.next){H=G=$=M=n=N=void 0;var N=t,n,M,$,G=N.pt,H=(N.x0=G[0].x,N.y0=G[0].y,N.sums=[],N.sums);for(H.push(new wt(0,0,0,0,0)),n=0;n<N.len;++n)M=G[n].x-N.x0,$=G[n].y-N.y0,H.push(new wt(H[n].x+M,H[n].y+$,H[n].xy+M*$,H[n].x2+M*M,H[n].y2+$*$));c=W=Q=K=J=a=o=e=D=rr=x=l=f=u=_=Z=L=y=i=P=void 0;var P=t,L,D,e,o,a,J,K,Q,W,i=P.len,y=P.pt,Z=new Array(i),_=new Array(i),u=new Array(4),f=[new st,new st],l=new st,x=new st,rr=new st,c=0;for(P.lon=new Array(i),e=i-1;0<=e;--e)y[e].x!=y[c].x&&y[e].y!=y[c].y&&(c=e+1),_[e]=c;for(e=i-1;0<=e;--e){for(u[0]=u[1]=u[2]=u[3]=0,L=(3+3*(y[At(e+1,i)].x-y[e].x)+(y[At(e+1,i)].y-y[e].y))/2,++u[L],f[0].x=0,f[0].y=0,f[1].x=0,f[1].y=0,c=_[e],a=e;;){if(D=0,L=(3+3*Ot(y[c].x-y[a].x)+Ot(y[c].y-y[a].y))/2,++u[L],u[0]&&u[1]&&u[2]&&u[3]){Z[e]=a,D=1;break}if(l.x=y[c].x-y[e].x,l.y=y[c].y-y[e].y,bt(f[0],l)<0||0<bt(f[1],l))break;if(ft.abs(l.x)<=1&&ft.abs(l.y)<=1||(x.x=l.x+(0<=l.y&&(0<l.y||l.x<0)?1:-1),x.y=l.y+(l.x<=0&&(l.x<0||l.y<0)?1:-1),0<=bt(f[0],x)&&(f[0].x=x.x,f[0].y=x.y),x.x=l.x+(l.y<=0&&(l.y<0||l.x<0)?1:-1),x.y=l.y+(0<=l.x&&(0<l.x||l.y<0)?1:-1),bt(f[1],x)<=0&&(f[1].x=x.x,f[1].y=x.y)),!Ft(c=_[a=c],e,a))break}0===D&&(rr.x=Ot(y[c].x-y[a].x),rr.y=Ot(y[c].y-y[a].y),l.x=y[a].x-y[e].x,l.y=y[a].y-y[e].y,J=bt(f[0],l),K=bt(f[0],rr),Q=bt(f[1],l),W=bt(f[1],rr),o=1e7,K<0&&(o=ft.floor(J/-K)),0<W&&(o=ft.min(o,ft.floor(-Q/W))),Z[e]=At(a+o,i))}for(o=Z[i-1],P.lon[i-1]=o,e=i-2;0<=e;--e)Ft(e+1,Z[e],o)&&(o=Z[e]),P.lon[e]=o;for(e=i-1;Ft(At(e+1,i),o,P.lon[e]);--e)P.lon[e]=o;ir=ar=or=cr=xr=lr=fr=ur=yr=p=er=nr=h=s=tr=void 0;var tr=t,s,h,nr,er,or,ar,ir,p=tr.len,yr=new Array(p+1),ur=new Array(p+1),fr=new Array(p),lr=new Array(p+1),xr=new Array(p+1),cr=new Array(p+1);for(s=0;s<p;++s)(ir=At(tr.lon[At(s-1,p)]-1,p))==s&&(ir=At(s+1,p)),fr[s]=ir<s?p:ir;for(h=1,s=0;s<p;++s)for(;h<=fr[s];)lr[h]=s,h++;for(h=s=0;s<p;++h)xr[h]=s,s=fr[s];for(xr[h]=p,s=p,h=nr=h;0<h;--h)cr[h]=s,s=lr[s];for(cr[0]=0,yr[0]=0,h=1;h<=nr;++h)for(s=cr[h];s<=xr[h];++s){for(ar=-1,er=xr[h-1];er>=lr[s];--er)or=function(r,t,n){var e,o,a,i,y,u,f=r.len,l=r.pt,r=r.sums,x=0;f<=n&&(n-=f,x=1);x=0===x?(e=r[n+1].x-r[t].x,o=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,a=r[n+1].xy-r[t].xy,y=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[f].x,o=r[n+1].y-r[t].y+r[f].y,i=r[n+1].x2-r[t].x2+r[f].x2,a=r[n+1].xy-r[t].xy+r[f].xy,y=r[n+1].y2-r[t].y2+r[f].y2,n+1-t+f);return r=(l[t].x+l[n].x)/2-l[0].x,f=(l[t].y+l[n].y)/2-l[0].y,u=l[n].x-l[t].x,n=-(l[n].y-l[t].y),l=n*n*((i-2*e*r)/x+r*r)+2*n*u*((a-e*f-o*r)/x+r*f)+u*u*((y-2*o*f)/x+f*f),ft.sqrt(l)}(tr,er,s)+yr[er],(ar<0||or<ar)&&(ur[s]=er,ar=or);yr[s]=ar}for(tr.m=nr,tr.po=new Array(nr),s=p,h=nr-1;0<s;--h)s=ur[s],tr.po[h]=s;Ar=mr=gr=wr=vr=dr=pr=hr=b=A=R=m=g=w=v=sr=O=Ur=Cr=Sr=kr=Rr=Or=Fr=br=F=d=void 0;var d=t,sr,v,w,g,m,A,b,hr,pr,dr,vr,wr,gr,mr,Ar,F=d.m,br=d.po,Fr=d.len,Or=d.pt,Rr=d.x0,kr=d.y0,Sr=new Array(F),Cr=new Array(F),Ur=new Array(F),O=new Array(3),R=new st;for(d.curve=new dt(F),v=0;v<F;++v)w=br[At(v+1,F)],w=At(w-br[v],Fr)+br[v],Sr[v]=new st,Cr[v]=new st,!function(r,t,n,e,o){var a,i,y,u,f,l,x=r.len,r=r.sums,c=0;for(;x<=n;)n-=x,c+=1;for(;x<=t;)t-=x,--c;for(;n<0;)n+=x,--c;for(;t<0;)t+=x,c+=1;f=r[n+1].x-r[t].x+c*r[x].x,a=r[n+1].y-r[t].y+c*r[x].y,u=r[n+1].x2-r[t].x2+c*r[x].x2,y=r[n+1].xy-r[t].xy+c*r[x].xy,r=r[n+1].y2-r[t].y2+c*r[x].y2,i=n+1-t+c*x,e.x=f/i,e.y=a/i,e=(y-f*a/i)/i,f=((y=(u-f*f/i)/i)+(u=(r-a*a/i)/i)+ft.sqrt((y-u)*(y-u)+4*e*e))/2,y-=f,u-=f,ft.abs(y)>=ft.abs(u)?0!==(l=zt(y,e))&&(o.x=-e/l,o.y=y/l):0!==(l=zt(u,e))&&(o.x=-u/l,o.y=e/l);0===l&&(o.x=o.y=0)}(d,br[v],w,Sr[v],Cr[v]);for(v=0;v<F;++v)if(Ur[v]=new vt,0===(sr=Cr[v].x*Cr[v].x+Cr[v].y*Cr[v].y))for(w=0;w<3;++w)for(g=0;g<3;++g)Ur[v].data[3*w+g]=0;else for(O[0]=Cr[v].y,O[1]=-Cr[v].x,O[2]=-O[1]*Sr[v].y-O[0]*Sr[v].x,m=0;m<3;++m)for(g=0;g<3;++g)Ur[v].data[3*m+g]=O[m]*O[g]/sr;for(v=0;v<F;++v){for(A=new vt,b=new st,R.x=Or[br[v]].x-Rr,R.y=Or[br[v]].y-kr,w=At(v-1,F),m=0;m<3;++m)for(g=0;g<3;++g)A.data[3*m+g]=Ur[w].at(m,g)+Ur[v].at(m,g);for(;;){if(0!=(dr=A.at(0,0)*A.at(1,1)-A.at(0,1)*A.at(1,0))){b.x=(-A.at(0,2)*A.at(1,1)+A.at(1,2)*A.at(0,1))/dr,b.y=(A.at(0,2)*A.at(1,0)-A.at(1,2)*A.at(0,0))/dr;break}for(A.at(0,0)>A.at(1,1)?(O[0]=-A.at(0,1),O[1]=A.at(0,0)):A.at(1,1)?(O[0]=-A.at(1,1),O[1]=A.at(1,0)):(O[0]=1,O[1]=0),sr=O[0]*O[0]+O[1]*O[1],O[2]=-O[1]*R.y-O[0]*R.x,m=0;m<3;++m)for(g=0;g<3;++g)A.data[3*m+g]+=O[m]*O[g]/sr}if(hr=ft.abs(b.x-R.x),pr=ft.abs(b.y-R.y),hr<=.5&&pr<=.5)d.curve.vertex[v]=new st(b.x+Rr,b.y+kr);else{if(vr=Rt(A,R),gr=R.x,mr=R.y,0!==A.at(0,0))for(Ar=0;Ar<2;++Ar)b.y=R.y-.5+Ar,b.x=-(A.at(0,1)*b.y+A.at(0,2))/A.at(0,0),hr=ft.abs(b.x-R.x),wr=Rt(A,b),hr<=.5&&wr<vr&&(vr=wr,gr=b.x,mr=b.y);if(0!==A.at(1,1))for(Ar=0;Ar<2;++Ar)b.x=R.x-.5+Ar,b.y=-(A.at(1,0)*b.x+A.at(1,2))/A.at(1,1),pr=ft.abs(b.y-R.y),wr=Rt(A,b),pr<=.5&&wr<vr&&(vr=wr,gr=b.x,mr=b.y);for(m=0;m<2;++m)for(g=0;g<2;++g)b.x=R.x-.5+m,b.y=R.y-.5+g,(wr=Rt(A,b))<vr&&(vr=wr,gr=b.x,mr=b.y);d.curve.vertex[v]=new st(gr+Rr,mr+kr)}}if("-"===t.sign){qr=Xr=Er=Vr=Yr=zr=void 0;var zr=t,Er,Xr,qr,zr,Yr=(zr=zr.curve).n,Vr=zr.vertex;for(Er=0,Xr=Yr-1;Er<Xr;++Er,--Xr)qr=Vr[Er],Vr[Er]=Vr[Xr],Vr[Xr]=qr}Ir=S=C=Br=k=Tr=U=Nr=jr=zr=void 0;var jr=I,Tr,k,S,C,Br,Ir,Nr=(zr=t).curve.n,U=zr.curve;for(Tr=0;Tr<Nr;++Tr)k=At(Tr+1,Nr),Br=At(Tr+2,Nr),Ir=kt(.5,U.vertex[Br],U.vertex[k]),0!==(C=function(r,t){var n=function(r,t){return new st(-Ot(t.y-r.y),Ot(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(U.vertex[Tr],U.vertex[Br]))?(C=St(U.vertex[Tr],U.vertex[k],U.vertex[Br])/C,C=ft.abs(C),S=1<C?1-1/C:0,S/=.75):S=4/3,(U.alpha0[k]=S)>=jr.alphamax?(U.tag[k]="CORNER",U.c[3*k+1]=U.vertex[k]):(S<.55?S=.55:1<S&&(S=1),C=kt(.5+.5*S,U.vertex[Tr],U.vertex[k]),Br=kt(.5+.5*S,U.vertex[Br],U.vertex[k]),U.tag[k]="CURVETO",U.c[3*k+0]=C,U.c[3*k+1]=Br),U.c[3*k+2]=Ir,U.alpha[k]=S,U.beta[k]=.5;if(U.alphacurve=1,I.optcurve){nt=tt=Kr=Jr=X=Dr=Lr=Pr=Hr=rt=E=z=Gr=_r=V=Zr=Wr=Qr=Y=q=$r=Mr=void 0;var Mr=t,$r=I,Gr,z,E,Hr,Pr,Lr,Dr,X,Jr,Kr,q=Mr.curve,Y=q.n,Qr=q.vertex,Wr=new Array(Y+1),Zr=new Array(Y+1),V=new Array(Y+1),_r=new Array(Y+1),rt=new gt,tt=new Array(Y),nt=new Array(Y+1);for(z=0;z<Y;++z)"CURVETO"===q.tag[z]?tt[z]=Ot(St(Qr[At(z-1,Y)],Qr[z],Qr[At(z+1,Y)])):tt[z]=0;for(nt[Lr=0]=0,Hr=q.vertex[0],z=0;z<Y;++z)Pr=At(z+1,Y),"CURVETO"===q.tag[Pr]&&(Dr=q.alpha[Pr],Lr=(Lr+=.3*Dr*(4-Dr)*St(q.c[3*z+2],Qr[Pr],q.c[3*Pr+2])/2)+St(Hr,q.c[3*z+2],q.c[3*Pr+2])/2),nt[z+1]=Lr;for(Wr[0]=-1,Zr[0]=0,V[0]=0,E=1;E<=Y;++E)for(Wr[E]=E-1,Zr[E]=Zr[E-1],V[E]=V[E-1]+1,z=E-2;0<=z&&!function(r,t,n,e,o,a,i){var y,u,f,l,x,c,s,h,p,d,v,w,g,m,A,b,F,O=r.curve.n,R=r.curve,k=R.vertex;if(t===n)return 1;if(x=At((y=t)+1,O),u=At(y+1,O),0===(l=a[u]))return 1;for(c=Et(k[t],k[x]),y=u;y!=n;y=u){if(u=At(y+1,O),f=At(y+2,O),a[u]!==l)return 1;if(Ot(Ct(k[t],k[x],k[u],k[f]))!==l)return 1;if(function(r,t,n,e){var o;return o=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,o*r+t*e}(k[t],k[x],k[u],k[f])<c*Et(k[u],k[f])*-.999847695156)return 1}p=R.c[3*At(t,O)+2].copy(),d=k[At(t+1,O)].copy(),v=k[At(n,O)].copy(),w=R.c[3*At(n,O)+2].copy(),r=i[n]-i[t],r-=St(k[0],R.c[3*t+2],R.c[3*n+2])/2,n<=t&&(r+=i[O]);if(i=St(p,d,v),m=St(p,d,w),A=St(p,v,w),b=i+A-m,m===i)return 1;if(i=m/(m-i),0==(m=m*(F=A/(A-b))/2))return 1;for(A=r/m,b=2-ft.sqrt(4-A/.3),e.c[0]=kt(F*b,p,d),e.c[1]=kt(i*b,w,v),e.alpha=b,e.t=F,e.s=i,d=e.c[0].copy(),v=e.c[1].copy(),e.pen=0,y=At(t+1,O);y!=n;y=u){if(u=At(y+1,O),(F=qt(p,d,v,w,k[y],k[u]))<-.5)return 1;if(g=Xt(F,p,d,v,w),0===(c=Et(k[y],k[u])))return 1;if(s=St(k[y],k[u],g)/c,ft.abs(s)>o)return 1;if(Ut(k[y],k[u],g)<0||Ut(k[u],k[y],g)<0)return 1;e.pen+=s*s}for(y=t;y!=n;y=u){if(u=At(y+1,O),(F=qt(p,d,v,w,R.c[3*y+2],R.c[3*u+2]))<-.5)return 1;if(g=Xt(F,p,d,v,w),0===(c=Et(R.c[3*y+2],R.c[3*u+2])))return 1;if(s=St(R.c[3*y+2],R.c[3*u+2],g)/c,h=St(R.c[3*y+2],R.c[3*u+2],k[u])/c,(h*=.75*R.alpha[u])<0&&(s=-s,h=-h),s<h-o)return 1;s<h&&(e.pen+=(s-h)*(s-h))}return 0}(Mr,z,At(E,Y),rt,$r.opttolerance,tt,nt);--z)(V[E]>V[z]+1||V[E]==V[z]+1&&Zr[E]>Zr[z]+rt.pen)&&(Wr[E]=z,Zr[E]=Zr[z]+rt.pen,V[E]=V[z]+1,_r[E]=rt,rt=new gt);for(Gr=V[Y],X=new dt(Gr),Jr=new Array(Gr),Kr=new Array(Gr),E=Y,z=Gr-1;0<=z;--z)Wr[E]===E-1?(X.tag[z]=q.tag[At(E,Y)],X.c[3*z+0]=q.c[3*At(E,Y)+0],X.c[3*z+1]=q.c[3*At(E,Y)+1],X.c[3*z+2]=q.c[3*At(E,Y)+2],X.vertex[z]=q.vertex[At(E,Y)],X.alpha[z]=q.alpha[At(E,Y)],X.alpha0[z]=q.alpha0[At(E,Y)],X.beta[z]=q.beta[At(E,Y)],Jr[z]=Kr[z]=1):(X.tag[z]="CURVETO",X.c[3*z+0]=_r[E].c[0],X.c[3*z+1]=_r[E].c[1],X.c[3*z+2]=q.c[3*At(E,Y)+2],X.vertex[z]=kt(_r[E].s,q.c[3*At(E,Y)+2],Qr[At(E,Y)]),X.alpha[z]=_r[E].alpha,X.alpha0[z]=_r[E].alpha,Jr[z]=_r[E].s,Kr[z]=_r[E].t),E=Wr[E];for(z=0;z<Gr;++z)Pr=At(z+1,Gr),X.beta[z]=Jr[z]/(Jr[z]+Kr[Pr]);X.alphacurve=1,Mr.curve=X}}var et=+((r=r).scale||1),ot=r.color||"#000",at=r.opacity||"1.0",it=r.outline,yt=!r.partial,r=r.minpathsegments,T=T*et,B=B*et,ut="";return yt&&(ut+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+T+'" height="'+B+'" viewBox="0 0 '+T+" "+B+'">'),ut+=function r(t,n,e,o,a){if(!t)return"";var i="";i+=a?"":"<path "+n+'d="';for(;t;t=t.sibling)i=(i+=xt(t.curve,e,o))+r(t.childlist,n,e,o,!0);i+=a?"":'" />';return i}(j,it=it?'stroke="'+ot+'" stroke-opacity="'+at+'" stroke-width="'+it+'" fill="none"':'stroke="'+ot+'" stroke-opacity="'+at+'" stroke-width="0.5" fill="'+ot+'" fill-opacity="'+at+'" fill-rule="evenodd"',et,r),yt&&(ut+="</svg>"),ut},t.process=t.trace,st[e]={constructor:st,x:0,y:0,copy:function(){return new st(this.x,this.y)}},ht[e]={constructor:ht,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof st?(t=r.y,r=r.x):1===arguments.length&&(t=ft.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},index:function(r){return new st(r%this.width,ft.floor(r/this.width))},toIndex:function(r,t){return r instanceof st&&(t=r.y,r=r.x),this.width*t+r},flip:function(r,t){r instanceof st?(t=r.y,r=r.x):1===arguments.length&&(t=ft.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new ht(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},pt[e]={constructor:pt,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1,next:null,sibling:null,childlist:null},dt[e]={constructor:dt,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},vt[e]={constructor:vt,data:null,at:function(r,t){return this.data[3*r+t]}},wt[e]={constructor:wt,x:0,y:0,xy:0,x2:0,y2:0},gt[e]={constructor:gt,pen:0,c:null,t:0,s:0,alpha:0};var t,e,ft,i,lt,k=t;function xt(r,t,n){for(var e,o,a,i=r.n,y=0,u="M"+(r.c[3*(i-1)+2].x*t).toFixed(3)+" "+(r.c[3*(i-1)+2].y*t).toFixed(3)+" ",f=0;f<i;++f)"CURVETO"===r.tag[f]?(u+=(o=f,a=t,"C "+((e=r).c[3*o+0].x*a).toFixed(3)+" "+(e.c[3*o+0].y*a).toFixed(3)+","+(e.c[3*o+1].x*a).toFixed(3)+" "+(e.c[3*o+1].y*a).toFixed(3)+","+(e.c[3*o+2].x*a).toFixed(3)+" "+(e.c[3*o+2].y*a).toFixed(3)+" "),y+=3):"CORNER"===r.tag[f]&&(u+=(e=f,o=t,"L "+((a=r).c[3*e+1].x*o).toFixed(3)+" "+(a.c[3*e+1].y*o).toFixed(3)+" "+(a.c[3*e+2].x*o).toFixed(3)+" "+(a.c[3*e+2].y*o).toFixed(3)+" "),y+=2);return u+="z ",y<n?"":u}function ct(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function st(r,t){this.x=r||0,this.y=t||0}function ht(r,t,n){var e,o,a=this;if(a.width=r,a.height=t,a.size=o=r*t,a.data=new i(a.size),n)for(e=0;e<o;++e)a.data[e]=n[e]?1:0;else for(e=0;e<o;++e)a.data[e]=0}function pt(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function dt(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function vt(){this.data=[0,0,0,0,0,0,0,0,0]}function wt(r,t,n,e,o){var a=this;a.x=r,a.y=t,a.xy=n,a.x2=e,a.y2=o}function gt(){var r=this;r.pen=0,r.c=[new st,new st],r.t=0,r.s=0,r.alpha=0}function mt(r,t){for(var n,e,o,a,i,y=t.pt,u=y[0].y,f=t.len,l=1;l<f;++l)if(n=y[l].x,(e=y[l].y)!==u){for(a=u<e?u:e,o=t.maxX,i=n;i<o;++i)r.flip(i,a);u=e}}function At(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function bt(r,t){return r.x*t.y-r.y*t.x}function Ft(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function Ot(r){return 0<r?1:r<0?-1:0}function Rt(r,t){for(var n,e=[t.x,t.y,1],o=0,a=0;a<3;++a)for(n=0;n<3;++n)o+=e[a]*r.at(a,n)*e[n];return o}function kt(r,t,n){return new st(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function St(r,t,n){var e=t.x-r.x,t=t.y-r.y,o=n.x-r.x;return e*(n.y-r.y)-o*t}function Ct(r,t,n,e){var o=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return o*(e.y-n.y)-r*t}function Ut(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function zt(r,t){r=ft.abs(r),t=ft.abs(t);var n=ft.max(r,t);return 0===n?0:n*ft.sqrt((r/=n)*r+(t/=n)*t)}function Et(r,t){return zt(r.x-t.x,r.y-t.y)}function Xt(r,t,n,e,o){var a=1-r,i=r*r,y=a*a,u=y*a,f=i*r,y=3*y*r,r=3*i*a;return new st(u*t.x+y*n.x+r*e.x+f*o.x,u*t.y+y*n.y+r*e.y+f*o.y)}function qt(r,t,n,e,o,a){var r=Ct(r,t,o,a),t=Ct(t,n,o,a),n=r-2*t+Ct(n,e,o,a),e=-2*r+2*t,o=e*e-4*n*r;return 0===n||o<0?-1:(t=(-e-(a=ft.sqrt(o)))/(2*n),0<=(r=(-e+a)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r.potrace=k,r});