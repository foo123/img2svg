/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-01 19:21:10
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var z=Math,E="undefined"!=typeof Uint8Array?Uint8Array:Array,F="undefined"!=typeof Float32Array?Float32Array:Array;function r(r,t){var n=(t=t||{}).mode||"colored",e=r.data,o=r.width,r=r.height;return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+o+'" height="'+r+'" viewBox="0 0 '+o+" "+r+'">'+("all_colors"===n?function(r,t,n,e){var o,a,i,u,y,f,x,c,l,s,p=t*n,h=r.length,d={},w="";for(a=o=0;o<h;o+=4,++a)0<r[o+3]&&(u=r[o],y=r[o+1],f=r[o+2],x=r[o+3],c=String(u)+","+String(y)+","+String(f)+","+String(x),d[c]?d[c].push(a):d[c]=[a]);for(c in d)if((l=d[c])&&0<l.length){for(s=new E(p),o=0,i=l.length;o<i;++o)s[l[o]]=255;e.color="rgb("+c.split(",").slice(0,3).join(",")+")",e.opacity=String((+c.split(",").pop()/255).toFixed(2)),e.partial=!0,w+=q.process(s,t,n,e),s=null}return d=null,w}:"hue"===n?function(r,t,n,e){var o,a,i,u,y,f,x,c,l,s,p,h,d,w,v=t*n,g=r.length,m=X(null==e.depth?6:e.depth,1,360),A=X(null==e.depthHue?m:e.depthHue,1,360),b="";for(o=z.floor(360/A),i=new F(360),u=new F(360),y=new F(360),d=new F(360),s=0;s<g;s+=4)0<r[s+3]&&(f=r[s],x=r[s+1],c=r[s+2],l=z.floor(R(f,x,c)/o)*o,i[l]=(i[l]||0)+f,u[l]=(u[l]||0)+x,y[l]=(y[l]||0)+c,d[l]=(d[l]||0)+1);for(a=n=0;n<A;++n,a+=o){for(w=new E(v),p=s=h=0;s<g;s+=4,++p)0<r[s+3]&&(f=r[s],x=r[s+1],c=r[s+2],l=z.floor(R(f,x,c)/o)*o,a<=l)&&l<a+o&&(++h,w[p]=255);0<h&&0<d[a]&&(e.color=O(i[a]/d[a],u[a]/d[a],y[a]/d[a]),e.partial=!0,b+=q.process(w,t,n,e)),w=null}return b}:"grayscale"===n?function(r,t,n,e){var o,a,i,u,y,f,x,c=t*n,l=r.length,s=X(null==e.depth?2:e.depth,1,256),p=X(null==e.depthG?s:e.depthG,1,256),h=z.floor(256/p),d=z.floor(h/2),w="";for(a=o=0;o<p;++o,a+=h){for(i=new E(c),x=f=u=0;f<l;f+=4,++x)0<r[f+3]&&(y=r[f+1],a<=y)&&y<a+h&&(++u,i[x]=255);0<u&&(e.color=O(a+d,a+d,a+d),e.partial=!0,w+=q.process(i,t,n,e)),i=null}return w}:function(r,t,n,e){var o,a,i,u,y,f,x,c,l,s,p,h,d,w,v,g,m,A,b,F=t*n,O=r.length,R=X(null==e.depth?2:e.depth,1,256),S=X(null==e.depthR?R:e.depthR,1,256),k=X(null==e.depthG?R:e.depthG,1,256),C=X(null==e.depthB?R:e.depthB,1,256),U="";for(u=z.floor(256/S),y=z.floor(256/k),f=z.floor(256/C),x=z.floor(u/2),c=z.floor(y/2),l=z.floor(f/2),s=o=0;o<C;++o,s+=f)for(p=a=0;a<k;++a,p+=y)for(h=i=0;i<S;++i,h+=u){for(b=new E(F),m=g=A=0;g<O;g+=4,++m)0<r[g+3]&&(d=r[g],w=r[g+1],v=r[g+2],h<=d)&&d<h+u&&p<=w&&w<p+y&&s<=v&&v<s+f&&(++A,b[m]=255);0<A&&(e.color=function(r,t,n){r=String(X(z.round(r),0,255)),t=String(X(z.round(t),0,255)),n=String(X(z.round(n),0,255));return"rgb("+r+","+t+","+n+")"}(h+x,p+c,s+l),e.partial=!0,U+=q.process(b,t,n,e)),b=null}return U})(e,o,r,t)+"</svg>"}function X(r,t,n){return z.min(z.max(r,t),n)}function O(r,t,n){r=X(z.round(r),0,255).toString(16),t=X(z.round(t),0,255).toString(16),n=X(z.round(n),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}function R(r,t,n){var e=z.max(r/=255,t/=255,n/=255),o=z.min(r,t,n);return X(z.round(0==(o=e-o)?0:e===r?60*(0+(t-n)/o):e===t?60*(2+(n-r)/o):60*(4+(r-t)/o)),0,360)%360}r.VERSION="1.0.0";t={VERSION:"1.16"},e="prototype",k=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,v={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2,minpathsegments:2},t.defaultOptions=function(){return g({},v)},t.process=function(r,t,n,e){g(e,v);for(var r=function(r,t){var n,e=r.copy(),o=new C(0,0),a=[];for(;o=function(r,t){var n=r.toIndex(t);for(;n<r.size&&0===r.data[n];)++n;return n<r.size&&r.index(n)}(e,o);)n=function(r,t,n,e){var o,a,i,u,y=new A,f=n.x,x=n.y,c=0,l=1;y.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(y.pt.push(new C(f,x)),f>y.maxX&&(y.maxX=f),f<y.minX&&(y.minX=f),x>y.maxY&&(y.maxY=x),x<y.minY&&(y.minY=x),++y.len,f+=c,x+=l,y.area-=f*l,f===n.x&&x===n.y)break;a=t.at(f+(c-l-1)/2,x+(l+c-1)/2),i=t.at(f+(c+l-1)/2,x+(l-c-1)/2),a&&!i?(u="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,t,n){var e,o,a;for(e=2;e<5;++e){for(a=0,o=1-e;o<=e-1;++o)a=(a=(a=(a+=r.at(t+o,n+e-1)?1:-1)+(r.at(t+e-1,n+o-1)?1:-1))+(r.at(t+o-1,n-e)?1:-1))+(r.at(t-e,n+o)?1:-1);if(0<a)return 1;if(a<0)return 0}return 0}(t,f,x):0,l="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===y.sign||"white"===e.turnpolicy&&"-"===y.sign||"majority"===e.turnpolicy&&u||"minority"===e.turnpolicy&&!u?(o=c,c=-l,o):(o=c,c=l,-o)):a?(o=c,c=-l,l=o):i||(o=c,c=l,l=-o)}return y}(r,e,o,t),function(r,t){var n,e,o,a,i,u,y=t.pt[0].y,f=t.len;for(u=1;u<f;++u)if(n=t.pt[u].x,(e=t.pt[u].y)!==y){for(a=y<e?y:e,o=t.maxX,i=n;i<o;++i)r.flip(i,a);y=e}}(e,n),n.area>t.turdsize&&a.push(n);return e=null,a}(new m(t,n,r),e),o=r,a=e,i=0,u=o.length;i<u;++i){var y=o[i];!function(r){r.x0=r.pt[0].x,r.y0=r.pt[0].y,r.sums=[];var t,n,e,o=r.sums;for(o.push(new b(0,0,0,0,0)),t=0;t<r.len;++t)n=r.pt[t].x-r.x0,e=r.pt[t].y-r.y0,o.push(new b(o[t].x+n,o[t].y+e,o[t].xy+n*e,o[t].x2+n*n,o[t].y2+e*e))}(y),!function(r){var t,n,e,o,a,i,u,y,f,x=r.len,c=r.pt,l=new Array(x),s=new Array(x),p=new Array(4),h=[new C,new C],d=new C,w=new C,v=new C,g=0;for(r.lon=new Array(x),e=x-1;0<=e;--e)c[e].x!=c[g].x&&c[e].y!=c[g].y&&(g=e+1),s[e]=g;for(e=x-1;0<=e;--e){for(p[0]=p[1]=p[2]=p[3]=0,t=(3+3*(c[V(e+1,x)].x-c[e].x)+(c[V(e+1,x)].y-c[e].y))/2,++p[t],h[0].x=0,h[0].y=0,h[1].x=0,h[1].y=0,g=s[e],a=e;;){if(n=0,t=(3+3*B(c[g].x-c[a].x)+B(c[g].y-c[a].y))/2,++p[t],p[0]&&p[1]&&p[2]&&p[3]){l[e]=a,n=1;break}if(d.x=c[g].x-c[e].x,d.y=c[g].y-c[e].y,j(h[0],d)<0||0<j(h[1],d))break;if(k.abs(d.x)<=1&&k.abs(d.y)<=1||(w.x=d.x+(0<=d.y&&(0<d.y||d.x<0)?1:-1),w.y=d.y+(d.x<=0&&(d.x<0||d.y<0)?1:-1),0<=j(h[0],w)&&(h[0].x=w.x,h[0].y=w.y),w.x=d.x+(d.y<=0&&(d.y<0||d.x<0)?1:-1),w.y=d.y+(0<=d.x&&(0<d.x||d.y<0)?1:-1),j(h[1],w)<=0&&(h[1].x=w.x,h[1].y=w.y)),!T(g=s[a=g],e,a))break}0===n&&(v.x=B(c[g].x-c[a].x),v.y=B(c[g].y-c[a].y),d.x=c[a].x-c[e].x,d.y=c[a].y-c[e].y,i=j(h[0],d),u=j(h[0],v),y=j(h[1],d),f=j(h[1],v),o=1e7,u<0&&(o=k.floor(i/-u)),0<f&&(o=k.min(o,k.floor(-y/f))),l[e]=V(a+o,x))}for(o=l[x-1],r.lon[x-1]=o,e=x-2;0<=e;--e)T(e+1,l[e],o)&&(o=l[e]),r.lon[e]=o;for(e=x-1;T(V(e+1,x),o,r.lon[e]);--e)r.lon[e]=o}(y),!function(r){var t,n,e,o,a,i,u,y=r.len,f=new Array(y+1),x=new Array(y+1),c=new Array(y),l=new Array(y+1),s=new Array(y+1),p=new Array(y+1);for(t=0;t<y;++t)(u=V(r.lon[V(t-1,y)]-1,y))==t&&(u=V(t+1,y)),c[t]=u<t?y:u;for(n=1,t=0;t<y;++t)for(;n<=c[t];)l[n]=t,n++;for(n=t=0;t<y;++n)s[n]=t,t=c[t];for(s[n]=y,t=y,n=e=n;0<n;--n)p[n]=t,t=l[t];for(p[0]=0,f[0]=0,n=1;n<=e;++n)for(t=p[n];t<=s[n];++t){for(i=-1,o=s[n-1];o>=l[t];--o)a=function(r,t,n){var e,o,a,i,u,y,f=r.len,x=r.pt,r=r.sums,c=0;f<=n&&(n-=f,c=1);c=0===c?(e=r[n+1].x-r[t].x,o=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,a=r[n+1].xy-r[t].xy,u=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[f].x,o=r[n+1].y-r[t].y+r[f].y,i=r[n+1].x2-r[t].x2+r[f].x2,a=r[n+1].xy-r[t].xy+r[f].xy,u=r[n+1].y2-r[t].y2+r[f].y2,n+1-t+f);return r=(x[t].x+x[n].x)/2-x[0].x,f=(x[t].y+x[n].y)/2-x[0].y,y=x[n].x-x[t].x,n=-(x[n].y-x[t].y),x=n*n*((i-2*e*r)/c+r*r)+2*n*y*((a-e*f-o*r)/c+r*f)+y*y*((u-2*o*f)/c+f*f),k.sqrt(x)}(r,o,t)+f[o],(i<0||a<i)&&(x[t]=o,i=a);f[t]=i}for(r.m=e,r.po=new Array(e),t=y,n=e-1;0<t;--n)t=x[t],r.po[n]=t}(y),!function(r){var t,n,e,o,a,i,u,y,f,x,c,l,s,p,h,d=r.m,w=r.po,v=r.len,g=r.pt,m=r.x0,A=r.y0,b=new Array(d),F=new Array(d),O=new Array(d),R=new Array(3),S=new C;for(r.curve=new U(d),n=0;n<d;++n)e=w[V(n+1,d)],e=V(e-w[n],v)+w[n],b[n]=new C,F[n]=new C,!function(r,t,n,e,o){var a,i,u,y,f,x,c=r.len,r=r.sums,l=0;for(;c<=n;)n-=c,l+=1;for(;c<=t;)t-=c,--l;for(;n<0;)n+=c,--l;for(;t<0;)t+=c,l+=1;f=r[n+1].x-r[t].x+l*r[c].x,a=r[n+1].y-r[t].y+l*r[c].y,y=r[n+1].x2-r[t].x2+l*r[c].x2,u=r[n+1].xy-r[t].xy+l*r[c].xy,r=r[n+1].y2-r[t].y2+l*r[c].y2,i=n+1-t+l*c,e.x=f/i,e.y=a/i,e=(u-f*a/i)/i,f=((u=(y-f*f/i)/i)+(y=(r-a*a/i)/i)+k.sqrt((u-y)*(u-y)+4*e*e))/2,u-=f,y-=f,k.abs(u)>=k.abs(y)?0!==(x=H(u,e))&&(o.x=-e/x,o.y=u/x):0!==(x=H(y,e))&&(o.x=-y/x,o.y=e/x);0===x&&(o.x=o.y=0)}(r,w[n],e,b[n],F[n]);for(n=0;n<d;++n)if(O[n]=new Y,0===(t=F[n].x*F[n].x+F[n].y*F[n].y))for(e=0;e<3;++e)for(o=0;o<3;++o)O[n].data[3*e+o]=0;else for(R[0]=F[n].y,R[1]=-F[n].x,R[2]=-R[1]*b[n].y-R[0]*b[n].x,a=0;a<3;++a)for(o=0;o<3;++o)O[n].data[3*a+o]=R[a]*R[o]/t;for(n=0;n<d;++n){for(i=new Y,u=new C,S.x=g[w[n]].x-m,S.y=g[w[n]].y-A,e=V(n-1,d),a=0;a<3;++a)for(o=0;o<3;++o)i.data[3*a+o]=O[e].at(a,o)+O[n].at(a,o);for(;;){if(0!=(x=i.at(0,0)*i.at(1,1)-i.at(0,1)*i.at(1,0))){u.x=(-i.at(0,2)*i.at(1,1)+i.at(1,2)*i.at(0,1))/x,u.y=(i.at(0,2)*i.at(1,0)-i.at(1,2)*i.at(0,0))/x;break}for(i.at(0,0)>i.at(1,1)?(R[0]=-i.at(0,1),R[1]=i.at(0,0)):i.at(1,1)?(R[0]=-i.at(1,1),R[1]=i.at(1,0)):(R[0]=1,R[1]=0),t=R[0]*R[0]+R[1]*R[1],R[2]=-R[1]*S.y-R[0]*S.x,a=0;a<3;++a)for(o=0;o<3;++o)i.data[3*a+o]+=R[a]*R[o]/t}if(y=k.abs(u.x-S.x),f=k.abs(u.y-S.y),y<=.5&&f<=.5)r.curve.vertex[n]=new C(u.x+m,u.y+A);else{if(c=G(i,S),s=S.x,p=S.y,0!==i.at(0,0))for(h=0;h<2;++h)u.y=S.y-.5+h,u.x=-(i.at(0,1)*u.y+i.at(0,2))/i.at(0,0),y=k.abs(u.x-S.x),l=G(i,u),y<=.5&&l<c&&(c=l,s=u.x,p=u.y);if(0!==i.at(1,1))for(h=0;h<2;++h)u.x=S.x-.5+h,u.y=-(i.at(1,0)*u.x+i.at(1,2))/i.at(1,1),f=k.abs(u.y-S.y),l=G(i,u),f<=.5&&l<c&&(c=l,s=u.x,p=u.y);for(a=0;a<2;++a)for(o=0;o<2;++o)u.x=S.x-.5+a,u.y=S.y-.5+o,(l=G(i,u))<c&&(c=l,s=u.x,p=u.y);r.curve.vertex[n]=new C(s+m,p+A)}}}(y),"-"===y.sign&&!function(r){var t,n,e,r=r.curve,o=r.n,a=r.vertex;for(t=0,n=o-1;t<n;++t,--n)e=a[t],a[t]=a[n],a[n]=e}(y),!function(r,t){var n,e,o,a,i,u,y=r.curve.n,f=r.curve;for(n=0;n<y;++n)e=V(n+1,y),i=V(n+2,y),u=I(.5,f.vertex[i],f.vertex[e]),0!==(a=function(r,t){var n=function(r,t){return new C(-B(t.y-r.y),B(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(f.vertex[n],f.vertex[i]))?(a=N(f.vertex[n],f.vertex[e],f.vertex[i])/a,a=k.abs(a),o=1<a?1-1/a:0,o/=.75):o=4/3,(f.alpha0[e]=o)>=t.alphamax?(f.tag[e]="CORNER",f.c[3*e+1]=f.vertex[e]):(o<.55?o=.55:1<o&&(o=1),a=I(.5+.5*o,f.vertex[n],f.vertex[e]),i=I(.5+.5*o,f.vertex[i],f.vertex[e]),f.tag[e]="CURVETO",f.c[3*e+0]=a,f.c[3*e+1]=i),f.c[3*e+2]=u,f.alpha[e]=o,f.beta[e]=.5;f.alphacurve=1}(y,a),a.optcurve&&!function(r,t){var n,e,o,a,i,u,y,f,x,c,l=r.curve,s=l.n,p=l.vertex,h=new Array(s+1),d=new Array(s+1),w=new Array(s+1),v=new Array(s+1),g=new S,m=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===l.tag[e]?m[e]=B(N(p[V(e-1,s)],p[e],p[V(e+1,s)])):m[e]=0;for(A[u=0]=0,a=l.vertex[0],e=0;e<s;++e)i=V(e+1,s),"CURVETO"===l.tag[i]&&(y=l.alpha[i],u=(u+=.3*y*(4-y)*N(l.c[3*e+2],p[i],l.c[3*i+2])/2)+N(a,l.c[3*e+2],l.c[3*i+2])/2),A[e+1]=u;for(h[0]=-1,d[0]=0,w[0]=0,o=1;o<=s;++o)for(h[o]=o-1,d[o]=d[o-1],w[o]=w[o-1]+1,e=o-2;0<=e&&!function(r,t,n,e,o,a,i){var u,y,f,x,c,l,s,p,h,d,w,v,g,m,A,b,F,O=r.curve.n,R=r.curve,S=R.vertex;if(t===n)return 1;if(c=V((u=t)+1,O),y=V(u+1,O),0===(x=a[y]))return 1;for(l=P(S[t],S[c]),u=y;u!=n;u=y){if(y=V(u+1,O),f=V(u+2,O),a[y]!==x)return 1;if(B(M(S[t],S[c],S[y],S[f]))!==x)return 1;if(function(r,t,n,e){var o;return o=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,o*r+t*e}(S[t],S[c],S[y],S[f])<l*P(S[y],S[f])*-.999847695156)return 1}h=R.c[3*V(t,O)+2].copy(),d=S[V(t+1,O)].copy(),w=S[V(n,O)].copy(),v=R.c[3*V(n,O)+2].copy(),r=i[n]-i[t],r-=N(S[0],R.c[3*t+2],R.c[3*n+2])/2,n<=t&&(r+=i[O]);if(i=N(h,d,w),m=N(h,d,v),A=N(h,w,v),b=i+A-m,m===i)return 1;if(i=m/(m-i),0==(m=m*(F=A/(A-b))/2))return 1;for(A=r/m,b=2-k.sqrt(4-A/.3),e.c[0]=I(F*b,h,d),e.c[1]=I(i*b,v,w),e.alpha=b,e.t=F,e.s=i,d=e.c[0].copy(),w=e.c[1].copy(),e.pen=0,u=V(t+1,O);u!=n;u=y){if(y=V(u+1,O),(F=_(h,d,w,v,S[u],S[y]))<-.5)return 1;if(g=L(F,h,d,w,v),0===(l=P(S[u],S[y])))return 1;if(s=N(S[u],S[y],g)/l,k.abs(s)>o)return 1;if($(S[u],S[y],g)<0||$(S[y],S[u],g)<0)return 1;e.pen+=s*s}for(u=t;u!=n;u=y){if(y=V(u+1,O),(F=_(h,d,w,v,R.c[3*u+2],R.c[3*y+2]))<-.5)return 1;if(g=L(F,h,d,w,v),0===(l=P(R.c[3*u+2],R.c[3*y+2])))return 1;if(s=N(R.c[3*u+2],R.c[3*y+2],g)/l,p=N(R.c[3*u+2],R.c[3*y+2],S[y])/l,(p*=.75*R.alpha[y])<0&&(s=-s,p=-p),s<p-o)return 1;s<p&&(e.pen+=(s-p)*(s-p))}return 0}(r,e,V(o,s),g,t.opttolerance,m,A);--e)(w[o]>w[e]+1||w[o]==w[e]+1&&d[o]>d[e]+g.pen)&&(h[o]=e,d[o]=d[e]+g.pen,w[o]=w[e]+1,v[o]=g,g=new S);for(n=w[s],f=new U(n),x=new Array(n),c=new Array(n),o=s,e=n-1;0<=e;--e)h[o]===o-1?(f.tag[e]=l.tag[V(o,s)],f.c[3*e+0]=l.c[3*V(o,s)+0],f.c[3*e+1]=l.c[3*V(o,s)+1],f.c[3*e+2]=l.c[3*V(o,s)+2],f.vertex[e]=l.vertex[V(o,s)],f.alpha[e]=l.alpha[V(o,s)],f.alpha0[e]=l.alpha0[V(o,s)],f.beta[e]=l.beta[V(o,s)],x[e]=c[e]=1):(f.tag[e]="CURVETO",f.c[3*e+0]=v[o].c[0],f.c[3*e+1]=v[o].c[1],f.c[3*e+2]=l.c[3*V(o,s)+2],f.vertex[e]=I(v[o].s,l.c[3*V(o,s)+2],p[V(o,s)]),f.alpha[e]=v[o].alpha,f.alpha0[e]=v[o].alpha,x[e]=v[o].s,c[e]=v[o].t),o=h[o];for(e=0;e<n;++e)i=V(e+1,n),f.beta[e]=x[e]/(x[e]+c[i]);f.alphacurve=1,r.curve=f}(y,a)}var f,x=r,c=+((r=e).scale||1),e=r.color||"#000",l=r.opacity||"1.0",s=r.outline,p=!r.partial,h=r.minpathsegments,r=t*c,t=n*c,d=x.length,w=p?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+r+'" height="'+t+'" viewBox="0 0 '+r+" "+t+'">':"";if(n=s?'stroke="'+e+'" stroke-opacity="'+l+'" stroke-width="'+s+'" fill="none"':'stroke="'+e+'" stroke-opacity="'+l+'" stroke-width="0.5" fill="'+e+'" fill-opacity="'+l+'" fill-rule="evenodd"',0<d){for(w+="<path "+n+' d="',f=0;f<d;++f)w+=function(r,t,n){var e,o=r.n,a=0,i="M"+(r.c[3*(o-1)+2].x*t).toFixed(3)+" "+(r.c[3*(o-1)+2].y*t).toFixed(3)+" ";for(e=0;e<o;++e)"CURVETO"===r.tag[e]?(i+=function(r,t,n){return"C "+(r.c[3*t+0].x*n).toFixed(3)+" "+(r.c[3*t+0].y*n).toFixed(3)+","+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+","+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,e,t),a+=3):"CORNER"===r.tag[e]&&(i+=function(r,t,n){return"L "+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+" "+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,e,t),a+=2);return a<n?"":i}(x[f].curve,c,h);w+='" />'}return p&&(w+="</svg>"),w},C[e]={constructor:C,x:0,y:0,copy:function(){return new C(this.x,this.y)}},m[e]={constructor:m,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof C?(t=r.y,r=r.x):1===arguments.length&&(t=k.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},index:function(r){return new C(r%this.width,k.floor(r/this.width))},toIndex:function(r,t){return r instanceof C&&(t=r.y,r=r.x),this.width*t+r},flip:function(r,t){r instanceof C?(t=r.y,r=r.x):1===arguments.length&&(t=k.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new m(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},A[e]={constructor:A,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1},U[e]={constructor:U,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},Y[e]={constructor:Y,data:null,at:function(r,t){return this.data[3*r+t]}},b[e]={constructor:b,x:0,y:0,xy:0,x2:0,y2:0},S[e]={constructor:S,pen:0,c:null,t:0,s:0,alpha:0};var t,e,k,i,v,q=t;function g(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function C(r,t){this.x=r||0,this.y=t||0}function m(r,t,n){var e=this;if(e.width=r,e.height=t,e.size=r*t,e.data=n||new i(e.size),n)for(var o=0,a=e.size;o<a;++o)n[o]=n[o]?1:0}function A(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function U(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function Y(){this.data=[0,0,0,0,0,0,0,0,0]}function b(r,t,n,e,o){var a=this;a.x=r,a.y=t,a.xy=n,a.x2=e,a.y2=o}function S(){var r=this;r.pen=0,r.c=[new C,new C],r.t=0,r.s=0,r.alpha=0}function V(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function j(r,t){return r.x*t.y-r.y*t.x}function T(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function B(r){return 0<r?1:r<0?-1:0}function G(r,t){for(var n,e=[t.x,t.y,1],o=0,a=0;a<3;++a)for(n=0;n<3;++n)o+=e[a]*r.at(a,n)*e[n];return o}function I(r,t,n){return new C(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function N(r,t,n){var e=t.x-r.x,t=t.y-r.y,o=n.x-r.x;return e*(n.y-r.y)-o*t}function M(r,t,n,e){var o=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return o*(e.y-n.y)-r*t}function $(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function H(r,t){r=k.abs(r),t=k.abs(t);var n=k.max(r,t);return 0===n?0:n*k.sqrt((r/=n)*r+(t/=n)*t)}function P(r,t){return H(r.x-t.x,r.y-t.y)}function L(r,t,n,e,o){var a=1-r,i=r*r,u=a*a,y=u*a,f=i*r,u=3*u*r,r=3*i*a;return new C(y*t.x+u*n.x+r*e.x+f*o.x,y*t.y+u*n.y+r*e.y+f*o.y)}function _(r,t,n,e,o,a){var r=M(r,t,o,a),t=M(t,n,o,a),n=r-2*t+M(n,e,o,a),e=-2*r+2*t,o=e*e-4*n*r;return 0===n||o<0?-1:(t=(-e-(a=k.sqrt(o)))/(2*n),0<=(r=(-e+a)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r.potrace=q,r});