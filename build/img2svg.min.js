/**
*
*   img2svg.js
*   @version: 1.0.0
*   @built on 2023-09-01 08:33:59
*
*   Vectorize image data based on potrace algorithm with color
*   https://github.com/foo123/img2svg.js
*
**/!function(t,r,n){"use strict";"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=n.call(t)):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return n.moduleUri=r.uri,n.call(t)}):r in t||(t[r]=n.call(t)||1)&&"function"==typeof define&&define.amd&&define(function(){return t[r]})}("undefined"!=typeof self?self:this,"img2svg",function(){"use strict";var q=Math,Y="undefined"!=typeof Uint8Array?Uint8Array:Array;"undefined"==typeof Float32Array&&Array;function r(r,t){var n,e,a,o,i,y,x,u,f,c,l,s,h,p=k(null==(t=t||{}).depth?2:t.depth,1,256),d=k(null==t.depthR?p:t.depthR,1,256),v=k(null==t.depthG?p:t.depthG,1,256),w=k(null==t.depthB?p:t.depthB,1,256),m=(k(null==t.depthHue?12:t.depthHue,1,360),r.width),g=r.height,A=r.data,b=m*g,O=A.length,F="",R=q.floor(256/d),C=q.floor(256/v),U=q.floor(256/w),z=q.floor(R/2),E=q.floor(C/2),X=q.floor(U/2);if(t.grayscale)for(i=e=0;e<v;++e,i+=C){for(h=new Y(b),l=c=s=0;c<O;c+=4,++l)0<A[c+3]&&i<=(u=A[c+1])&&u<i+C?(++s,h[l]=255):h[l]=0;0<s&&(t.color=V(i+E,i+E,i+E),t.partial=!0,F+=j.process(h,m,g,t)),h=null}else for(o=n=0;n<w;++n,o+=U)for(i=e=0;e<v;++e,i+=C)for(y=a=0;a<d;++a,y+=R){for(h=new Y(b),l=c=s=0;c<O;c+=4,++l)0<A[c+3]&&(x=A[c],u=A[c+1],f=A[c+2],y<=x)&&x<y+R&&i<=u&&u<i+C&&o<=f&&f<o+U?(++s,h[l]=255):h[l]=0;0<s&&(t.color=V(y+z,i+E,o+X),t.partial=!0,F+=j.process(h,m,g,t)),h=null}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+m+'" height="'+g+'" viewBox="0 0 '+m+" "+g+'">'+F+"</svg>"}function k(r,t,n){return q.min(q.max(r,t),n)}function V(r,t,n){r=k(q.round(r),0,255).toString(16),t=k(q.round(t),0,255).toString(16),n=k(q.round(n),0,255).toString(16);return"#"+(r.length<2?"0":"")+r+(t.length<2?"0":"")+t+(n.length<2?"0":"")+n}r.VERSION="1.0.0";t={VERSION:"1.16"},e="prototype",U=Math,i="undefined"!=typeof Uint8Array?Uint8Array:Array,w={turnpolicy:"minority",turdsize:2,optcurve:!0,alphamax:1,opttolerance:.2},t.defaultOptions=function(){return m({},w)},t.process=function(r,t,n,e){m(e,w);for(var r=function(r,t){var n,e=r.copy(),a=new z(0,0),o=[];for(;a=function(r,t){var n=r.toIndex(t);for(;n<r.size&&0===r.data[n];)++n;return n<r.size&&r.index(n)}(e,a);)n=function(r,t,n,e){var a,o,i,y,x=new A,u=n.x,f=n.y,c=0,l=1;x.sign=r.at(n.x,n.y)?"+":"-";for(;;){if(x.pt.push(new z(u,f)),u>x.maxX&&(x.maxX=u),u<x.minX&&(x.minX=u),f>x.maxY&&(x.maxY=f),f<x.minY&&(x.minY=f),++x.len,u+=c,f+=l,x.area-=u*l,u===n.x&&f===n.y)break;o=t.at(u+(c-l-1)/2,f+(l+c-1)/2),i=t.at(u+(c+l-1)/2,f+(l-c-1)/2),o&&!i?(y="majority"===e.turnpolicy||"minority"===e.turnpolicy?function(r,t,n){var e,a,o;for(e=2;e<5;++e){for(o=0,a=1-e;a<=e-1;++a)o=(o=(o=(o+=r.at(t+a,n+e-1)?1:-1)+(r.at(t+e-1,n+a-1)?1:-1))+(r.at(t+a-1,n-e)?1:-1))+(r.at(t-e,n+a)?1:-1);if(0<o)return 1;if(o<0)return 0}return 0}(t,u,f):0,l="right"===e.turnpolicy||"black"===e.turnpolicy&&"+"===x.sign||"white"===e.turnpolicy&&"-"===x.sign||"majority"===e.turnpolicy&&y||"minority"===e.turnpolicy&&!y?(a=c,c=-l,a):(a=c,c=l,-a)):o?(a=c,c=-l,l=a):i||(a=c,c=l,l=-a)}return x}(r,e,a,t),function(r,t){var n,e,a,o,i,y,x=t.pt[0].y,u=t.len;for(y=1;y<u;++y)if(n=t.pt[y].x,(e=t.pt[y].y)!==x){for(o=x<e?x:e,a=t.maxX,i=n;i<a;++i)r.flip(i,o);x=e}}(e,n),n.area>t.turdsize&&o.push(n);return e=null,o}(new g(t,n,r),e),a=r,o=e,i=0,y=a.length;i<y;++i){var x=a[i];!function(r){r.x0=r.pt[0].x,r.y0=r.pt[0].y,r.sums=[];var t,n,e,a=r.sums;for(a.push(new b(0,0,0,0,0)),t=0;t<r.len;++t)n=r.pt[t].x-r.x0,e=r.pt[t].y-r.y0,a.push(new b(a[t].x+n,a[t].y+e,a[t].xy+n*e,a[t].x2+n*n,a[t].y2+e*e))}(x),!function(r){var t,n,e,a,o,i,y,x,u,f=r.len,c=r.pt,l=new Array(f),s=new Array(f),h=new Array(4),p=[new z,new z],d=new z,v=new z,w=new z,m=0;for(r.lon=new Array(f),e=f-1;0<=e;--e)c[e].x!=c[m].x&&c[e].y!=c[m].y&&(m=e+1),s[e]=m;for(e=f-1;0<=e;--e){for(h[0]=h[1]=h[2]=h[3]=0,t=(3+3*(c[S(e+1,f)].x-c[e].x)+(c[S(e+1,f)].y-c[e].y))/2,++h[t],p[0].x=0,p[0].y=0,p[1].x=0,p[1].y=0,m=s[e],o=e;;){if(n=0,t=(3+3*T(c[m].x-c[o].x)+T(c[m].y-c[o].y))/2,++h[t],h[0]&&h[1]&&h[2]&&h[3]){l[e]=o,n=1;break}if(d.x=c[m].x-c[e].x,d.y=c[m].y-c[e].y,F(p[0],d)<0||0<F(p[1],d))break;if(U.abs(d.x)<=1&&U.abs(d.y)<=1||(v.x=d.x+(0<=d.y&&(0<d.y||d.x<0)?1:-1),v.y=d.y+(d.x<=0&&(d.x<0||d.y<0)?1:-1),0<=F(p[0],v)&&(p[0].x=v.x,p[0].y=v.y),v.x=d.x+(d.y<=0&&(d.y<0||d.x<0)?1:-1),v.y=d.y+(0<=d.x&&(0<d.x||d.y<0)?1:-1),F(p[1],v)<=0&&(p[1].x=v.x,p[1].y=v.y)),!R(m=s[o=m],e,o))break}0===n&&(w.x=T(c[m].x-c[o].x),w.y=T(c[m].y-c[o].y),d.x=c[o].x-c[e].x,d.y=c[o].y-c[e].y,i=F(p[0],d),y=F(p[0],w),x=F(p[1],d),u=F(p[1],w),a=1e7,y<0&&(a=U.floor(i/-y)),0<u&&(a=U.min(a,U.floor(-x/u))),l[e]=S(o+a,f))}for(a=l[f-1],r.lon[f-1]=a,e=f-2;0<=e;--e)R(e+1,l[e],a)&&(a=l[e]),r.lon[e]=a;for(e=f-1;R(S(e+1,f),a,r.lon[e]);--e)r.lon[e]=a}(x),!function(r){var t,n,e,a,o,i,y,x=r.len,u=new Array(x+1),f=new Array(x+1),c=new Array(x),l=new Array(x+1),s=new Array(x+1),h=new Array(x+1);for(t=0;t<x;++t)(y=S(r.lon[S(t-1,x)]-1,x))==t&&(y=S(t+1,x)),c[t]=y<t?x:y;for(n=1,t=0;t<x;++t)for(;n<=c[t];)l[n]=t,n++;for(n=t=0;t<x;++n)s[n]=t,t=c[t];for(s[n]=x,t=x,n=e=n;0<n;--n)h[n]=t,t=l[t];for(h[0]=0,u[0]=0,n=1;n<=e;++n)for(t=h[n];t<=s[n];++t){for(i=-1,a=s[n-1];a>=l[t];--a)o=function(r,t,n){var e,a,o,i,y,x,u=r.len,f=r.pt,r=r.sums,c=0;u<=n&&(n-=u,c=1);c=0===c?(e=r[n+1].x-r[t].x,a=r[n+1].y-r[t].y,i=r[n+1].x2-r[t].x2,o=r[n+1].xy-r[t].xy,y=r[n+1].y2-r[t].y2,n+1-t):(e=r[n+1].x-r[t].x+r[u].x,a=r[n+1].y-r[t].y+r[u].y,i=r[n+1].x2-r[t].x2+r[u].x2,o=r[n+1].xy-r[t].xy+r[u].xy,y=r[n+1].y2-r[t].y2+r[u].y2,n+1-t+u);return r=(f[t].x+f[n].x)/2-f[0].x,u=(f[t].y+f[n].y)/2-f[0].y,x=f[n].x-f[t].x,n=-(f[n].y-f[t].y),f=n*n*((i-2*e*r)/c+r*r)+2*n*x*((o-e*u-a*r)/c+r*u)+x*x*((y-2*a*u)/c+u*u),U.sqrt(f)}(r,a,t)+u[a],(i<0||o<i)&&(f[t]=a,i=o);u[t]=i}for(r.m=e,r.po=new Array(e),t=x,n=e-1;0<t;--n)t=f[t],r.po[n]=t}(x),!function(r){var t,n,e,a,o,i,y,x,u,f,c,l,s,h,p,d=r.m,v=r.po,w=r.len,m=r.pt,g=r.x0,A=r.y0,b=new Array(d),O=new Array(d),F=new Array(d),R=new Array(3),C=new z;for(r.curve=new E(d),n=0;n<d;++n)e=v[S(n+1,d)],e=S(e-v[n],w)+v[n],b[n]=new z,O[n]=new z,!function(r,t,n,e,a){var o,i,y,x,u,f,c=r.len,r=r.sums,l=0;for(;c<=n;)n-=c,l+=1;for(;c<=t;)t-=c,--l;for(;n<0;)n+=c,--l;for(;t<0;)t+=c,l+=1;u=r[n+1].x-r[t].x+l*r[c].x,o=r[n+1].y-r[t].y+l*r[c].y,x=r[n+1].x2-r[t].x2+l*r[c].x2,y=r[n+1].xy-r[t].xy+l*r[c].xy,r=r[n+1].y2-r[t].y2+l*r[c].y2,i=n+1-t+l*c,e.x=u/i,e.y=o/i,e=(y-u*o/i)/i,u=((y=(x-u*u/i)/i)+(x=(r-o*o/i)/i)+U.sqrt((y-x)*(y-x)+4*e*e))/2,y-=u,x-=u,U.abs(y)>=U.abs(x)?0!==(f=G(y,e))&&(a.x=-e/f,a.y=y/f):0!==(f=G(x,e))&&(a.x=-x/f,a.y=e/f);0===f&&(a.x=a.y=0)}(r,v[n],e,b[n],O[n]);for(n=0;n<d;++n)if(F[n]=new X,0===(t=O[n].x*O[n].x+O[n].y*O[n].y))for(e=0;e<3;++e)for(a=0;a<3;++a)F[n].data[3*e+a]=0;else for(R[0]=O[n].y,R[1]=-O[n].x,R[2]=-R[1]*b[n].y-R[0]*b[n].x,o=0;o<3;++o)for(a=0;a<3;++a)F[n].data[3*o+a]=R[o]*R[a]/t;for(n=0;n<d;++n){for(i=new X,y=new z,C.x=m[v[n]].x-g,C.y=m[v[n]].y-A,e=S(n-1,d),o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]=F[e].at(o,a)+F[n].at(o,a);for(;;){if(0!=(f=i.at(0,0)*i.at(1,1)-i.at(0,1)*i.at(1,0))){y.x=(-i.at(0,2)*i.at(1,1)+i.at(1,2)*i.at(0,1))/f,y.y=(i.at(0,2)*i.at(1,0)-i.at(1,2)*i.at(0,0))/f;break}for(i.at(0,0)>i.at(1,1)?(R[0]=-i.at(0,1),R[1]=i.at(0,0)):i.at(1,1)?(R[0]=-i.at(1,1),R[1]=i.at(1,0)):(R[0]=1,R[1]=0),t=R[0]*R[0]+R[1]*R[1],R[2]=-R[1]*C.y-R[0]*C.x,o=0;o<3;++o)for(a=0;a<3;++a)i.data[3*o+a]+=R[o]*R[a]/t}if(x=U.abs(y.x-C.x),u=U.abs(y.y-C.y),x<=.5&&u<=.5)r.curve.vertex[n]=new z(y.x+g,y.y+A);else{if(c=B(i,C),s=C.x,h=C.y,0!==i.at(0,0))for(p=0;p<2;++p)y.y=C.y-.5+p,y.x=-(i.at(0,1)*y.y+i.at(0,2))/i.at(0,0),x=U.abs(y.x-C.x),l=B(i,y),x<=.5&&l<c&&(c=l,s=y.x,h=y.y);if(0!==i.at(1,1))for(p=0;p<2;++p)y.x=C.x-.5+p,y.y=-(i.at(1,0)*y.x+i.at(1,2))/i.at(1,1),u=U.abs(y.y-C.y),l=B(i,y),u<=.5&&l<c&&(c=l,s=y.x,h=y.y);for(o=0;o<2;++o)for(a=0;a<2;++a)y.x=C.x-.5+o,y.y=C.y-.5+a,(l=B(i,y))<c&&(c=l,s=y.x,h=y.y);r.curve.vertex[n]=new z(s+g,h+A)}}}(x),"-"===x.sign&&!function(r){var t,n,e,r=r.curve,a=r.n,o=r.vertex;for(t=0,n=a-1;t<n;++t,--n)e=o[t],o[t]=o[n],o[n]=e}(x),!function(r,t){var n,e,a,o,i,y,x=r.curve.n,u=r.curve;for(n=0;n<x;++n)e=S(n+1,x),i=S(n+2,x),y=I(.5,u.vertex[i],u.vertex[e]),0!==(o=function(r,t){var n=function(r,t){return new z(-T(t.y-r.y),T(t.x-r.x))}(r,t);return n.y*(t.x-r.x)-n.x*(t.y-r.y)}(u.vertex[n],u.vertex[i]))?(o=N(u.vertex[n],u.vertex[e],u.vertex[i])/o,o=U.abs(o),a=1<o?1-1/o:0,a/=.75):a=4/3,(u.alpha0[e]=a)>=t.alphamax?(u.tag[e]="CORNER",u.c[3*e+1]=u.vertex[e]):(a<.55?a=.55:1<a&&(a=1),o=I(.5+.5*a,u.vertex[n],u.vertex[e]),i=I(.5+.5*a,u.vertex[i],u.vertex[e]),u.tag[e]="CURVETO",u.c[3*e+0]=o,u.c[3*e+1]=i),u.c[3*e+2]=y,u.alpha[e]=a,u.beta[e]=.5;u.alphacurve=1}(x,o),o.optcurve&&!function(r,t){var n,e,a,o,i,y,x,u,f,c,l=r.curve,s=l.n,h=l.vertex,p=new Array(s+1),d=new Array(s+1),v=new Array(s+1),w=new Array(s+1),m=new O,g=new Array(s),A=new Array(s+1);for(e=0;e<s;++e)"CURVETO"===l.tag[e]?g[e]=T(N(h[S(e-1,s)],h[e],h[S(e+1,s)])):g[e]=0;for(A[y=0]=0,o=l.vertex[0],e=0;e<s;++e)i=S(e+1,s),"CURVETO"===l.tag[i]&&(x=l.alpha[i],y=(y+=.3*x*(4-x)*N(l.c[3*e+2],h[i],l.c[3*i+2])/2)+N(o,l.c[3*e+2],l.c[3*i+2])/2),A[e+1]=y;for(p[0]=-1,d[0]=0,v[0]=0,a=1;a<=s;++a)for(p[a]=a-1,d[a]=d[a-1],v[a]=v[a-1]+1,e=a-2;0<=e&&!function(r,t,n,e,a,o,i){var y,x,u,f,c,l,s,h,p,d,v,w,m,g,A,b,O,F=r.curve.n,R=r.curve,C=R.vertex;if(t===n)return 1;if(c=S((y=t)+1,F),x=S(y+1,F),0===(f=o[x]))return 1;for(l=H(C[t],C[c]),y=x;y!=n;y=x){if(x=S(y+1,F),u=S(y+2,F),o[x]!==f)return 1;if(T(M(C[t],C[c],C[x],C[u]))!==f)return 1;if(function(r,t,n,e){var a;return a=t.x-r.x,t=t.y-r.y,r=e.x-n.x,e=e.y-n.y,a*r+t*e}(C[t],C[c],C[x],C[u])<l*H(C[x],C[u])*-.999847695156)return 1}p=R.c[3*S(t,F)+2].copy(),d=C[S(t+1,F)].copy(),v=C[S(n,F)].copy(),w=R.c[3*S(n,F)+2].copy(),r=i[n]-i[t],r-=N(C[0],R.c[3*t+2],R.c[3*n+2])/2,n<=t&&(r+=i[F]);if(i=N(p,d,v),g=N(p,d,w),A=N(p,v,w),b=i+A-g,g===i)return 1;if(i=g/(g-i),0==(g=g*(O=A/(A-b))/2))return 1;for(A=r/g,b=2-U.sqrt(4-A/.3),e.c[0]=I(O*b,p,d),e.c[1]=I(i*b,w,v),e.alpha=b,e.t=O,e.s=i,d=e.c[0].copy(),v=e.c[1].copy(),e.pen=0,y=S(t+1,F);y!=n;y=x){if(x=S(y+1,F),(O=L(p,d,v,w,C[y],C[x]))<-.5)return 1;if(m=P(O,p,d,v,w),0===(l=H(C[y],C[x])))return 1;if(s=N(C[y],C[x],m)/l,U.abs(s)>a)return 1;if($(C[y],C[x],m)<0||$(C[x],C[y],m)<0)return 1;e.pen+=s*s}for(y=t;y!=n;y=x){if(x=S(y+1,F),(O=L(p,d,v,w,R.c[3*y+2],R.c[3*x+2]))<-.5)return 1;if(m=P(O,p,d,v,w),0===(l=H(R.c[3*y+2],R.c[3*x+2])))return 1;if(s=N(R.c[3*y+2],R.c[3*x+2],m)/l,h=N(R.c[3*y+2],R.c[3*x+2],C[x])/l,(h*=.75*R.alpha[x])<0&&(s=-s,h=-h),s<h-a)return 1;s<h&&(e.pen+=(s-h)*(s-h))}return 0}(r,e,S(a,s),m,t.opttolerance,g,A);--e)(v[a]>v[e]+1||v[a]==v[e]+1&&d[a]>d[e]+m.pen)&&(p[a]=e,d[a]=d[e]+m.pen,v[a]=v[e]+1,w[a]=m,m=new O);for(n=v[s],u=new E(n),f=new Array(n),c=new Array(n),a=s,e=n-1;0<=e;--e)p[a]===a-1?(u.tag[e]=l.tag[S(a,s)],u.c[3*e+0]=l.c[3*S(a,s)+0],u.c[3*e+1]=l.c[3*S(a,s)+1],u.c[3*e+2]=l.c[3*S(a,s)+2],u.vertex[e]=l.vertex[S(a,s)],u.alpha[e]=l.alpha[S(a,s)],u.alpha0[e]=l.alpha0[S(a,s)],u.beta[e]=l.beta[S(a,s)],f[e]=c[e]=1):(u.tag[e]="CURVETO",u.c[3*e+0]=w[a].c[0],u.c[3*e+1]=w[a].c[1],u.c[3*e+2]=l.c[3*S(a,s)+2],u.vertex[e]=I(w[a].s,l.c[3*S(a,s)+2],h[S(a,s)]),u.alpha[e]=w[a].alpha,u.alpha0[e]=w[a].alpha,f[e]=w[a].s,c[e]=w[a].t),a=p[a];for(e=0;e<n;++e)i=S(e+1,n),u.beta[e]=f[e]/(f[e]+c[i]);u.alphacurve=1,r.curve=u}(x,o)}var u,f,c,l,s=r,h=1,r=e.color||"#000",p=e.outline,e=!e.partial,t=t*h,n=n*h,d=s.length,v=e?'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'" viewBox="0 0 '+t+" "+n+'">':"";for(l=p?(f=r||"#000",c="none",""):(f="none",c=r||"#000",' fill-rule="evenodd"'),u=0;u<d;++u)v+='<path d="'+function(r,t){var n,e=r.n,a="M"+(r.c[3*(e-1)+2].x*t).toFixed(3)+" "+(r.c[3*(e-1)+2].y*t).toFixed(3)+" ";for(n=0;n<e;++n)"CURVETO"===r.tag[n]?a+=function(r,t,n){return"C "+(r.c[3*t+0].x*n).toFixed(3)+" "+(r.c[3*t+0].y*n).toFixed(3)+","+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+","+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t):"CORNER"===r.tag[n]&&(a+=function(r,t,n){return"L "+(r.c[3*t+1].x*n).toFixed(3)+" "+(r.c[3*t+1].y*n).toFixed(3)+" "+(r.c[3*t+2].x*n).toFixed(3)+" "+(r.c[3*t+2].y*n).toFixed(3)+" "}(r,n,t));return a}(s[u].curve,h)+'" stroke="'+f+'" fill="'+c+'"'+l+"/>";return e&&(v+="</svg>"),v},z[e]={constructor:z,x:0,y:0,copy:function(){return new z(this.x,this.y)}},g[e]={constructor:g,width:0,height:0,size:0,data:null,at:function(r,t){return r instanceof z?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),0<=r&&r<this.width&&0<=t&&t<this.height&&0<this.data[this.width*t+r]},index:function(r){return new z(r%this.width,U.floor(r/this.width))},toIndex:function(r,t){return r instanceof z&&(t=r.y,r=r.x),this.width*t+r},flip:function(r,t){r instanceof z?(t=r.y,r=r.x):1===arguments.length&&(t=U.floor(r/this.width),r%=this.width),this.data[this.width*t+r]=this.at(r,t)?0:1},copy:function(){for(var r=new g(this.width,this.height),t=0,n=this.size;t<n;++t)r.data[t]=this.data[t];return r}},A[e]={constructor:A,area:0,len:0,sign:"",lon:null,curve:null,pt:null,minX:1e6,minY:1e6,maxX:-1,maxY:-1},E[e]={constructor:E,n:0,tag:null,c:null,alphaCurve:0,vertex:null,alpha:null,alpha0:null,beta:null},X[e]={constructor:X,data:null,at:function(r,t){return this.data[3*r+t]}},b[e]={constructor:b,x:0,y:0,xy:0,x2:0,y2:0},O[e]={constructor:O,pen:0,c:null,t:0,s:0,alpha:0};var t,e,U,i,w,j=t;function m(r,t){for(var n in t)Object[e].hasOwnProperty.call(t,n)&&!Object[e].hasOwnProperty.call(r,n)&&(r[n]=t[n]);return r}function z(r,t){this.x=r||0,this.y=t||0}function g(r,t,n){var e=this;if(e.width=r,e.height=t,e.size=r*t,e.data=n||new i(e.size),n)for(var a=0,o=e.size;a<o;++a)e.data[a]=0<e.data[a]?1:0}function A(){var r=this;r.area=0,r.len=0,r.curve={},r.pt=[],r.minX=1e6,r.minY=1e6,r.maxX=-1,r.maxY=-1}function E(r){var t=this;t.n=r,t.tag=new Array(r),t.c=new Array(3*r),t.alphaCurve=0,t.vertex=new Array(r),t.alpha=new Array(r),t.alpha0=new Array(r),t.beta=new Array(r)}function X(){this.data=[0,0,0,0,0,0,0,0,0]}function b(r,t,n,e,a){var o=this;o.x=r,o.y=t,o.xy=n,o.x2=e,o.y2=a}function O(){var r=this;r.pen=0,r.c=[new z,new z],r.t=0,r.s=0,r.alpha=0}function S(r,t){return t<=r?r%t:0<=r?r:t-1-(-1-r)%t}function F(r,t){return r.x*t.y-r.y*t.x}function R(r,t,n){return r<=n?r<=t&&t<n:r<=t||t<n}function T(r){return 0<r?1:r<0?-1:0}function B(r,t){for(var n,e=[t.x,t.y,1],a=0,o=0;o<3;++o)for(n=0;n<3;++n)a+=e[o]*r.at(o,n)*e[n];return a}function I(r,t,n){return new z(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))}function N(r,t,n){var e=t.x-r.x,t=t.y-r.y,a=n.x-r.x;return e*(n.y-r.y)-a*t}function M(r,t,n,e){var a=t.x-r.x,t=t.y-r.y,r=e.x-n.x;return a*(e.y-n.y)-r*t}function $(r,t,n){var e=t.x-r.x,t=t.y-r.y;return e*(n.x-r.x)+t*(n.y-r.y)}function G(r,t){r=U.abs(r),t=U.abs(t);var n=U.max(r,t);return 0===n?0:n*U.sqrt((r/=n)*r+(t/=n)*t)}function H(r,t){return G(r.x-t.x,r.y-t.y)}function P(r,t,n,e,a){var o=1-r,i=r*r,y=o*o,x=y*o,u=i*r,y=3*y*r,r=3*i*o;return new z(x*t.x+y*n.x+r*e.x+u*a.x,x*t.y+y*n.y+r*e.y+u*a.y)}function L(r,t,n,e,a,o){var r=M(r,t,a,o),t=M(t,n,a,o),n=r-2*t+M(n,e,a,o),e=-2*r+2*t,a=e*e-4*n*r;return 0===n||a<0?-1:(t=(-e-(o=U.sqrt(a)))/(2*n),0<=(r=(-e+o)/(2*n))&&r<=1?r:0<=t&&t<=1?t:-1)}return r.potrace=j,r});